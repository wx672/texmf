\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{wx672cjk}

\RequirePackage{ifxetex} % This class can only be processed with XeTeX

\RequirePackage{wx672fonts}
\RequirePackage[CJKmath=true,AutoFakeSlant=true,PunctStyle=kaiming]{xeCJK} % slant header

\setCJKmainfont{Noto Serif CJK SC}
\setCJKsansfont{Noto Sans CJK SC}
\setCJKmonofont{Noto Sans Mono CJK SC}

\newCJKfontfamily\hei{Noto Serif CJK SC Bold} % \hei{Hello, world!}
\newCJKfontfamily\song{Noto Serif CJK SC}
\newCJKfontfamily\kai{AR PL UKai CN}
\newCJKfontfamily\quotefont{AR PL UKai CN}

% https://nablux.net/tgp/weblog/2013/03/22/how-typeset-japanese-using-xelatex/
% vertical typesetting
\setCJKfamilyfont{cjk-vert}[Script=CJK,RawFeature=vertical]{FZGuLi-S12S}

\newCJKfontfamily\sig{signature}

\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt

% adjust the spaces between numbers and Chinese characters
\xeCJKsetup{xCJKecglue=\hskip 0pt plus 0.08\baselineskip}

\newcommand{\ziju}[1]{\renewcommand{\CJKglue}{\hskip #1}}

%%% ulem courses 'extra }' error in swfcproposal.cls if the 'title' contents Chinese in
%%% the bib file.
% \RequirePackage{ulem}
% \renewcommand{\uline}[1]{\CJKunderline-[depth=0.2em,format=\color{black}]{#1}}
% \renewcommand{\uwave}[1]{\CJKunderwave-[depth=0.2em,format=\color{black}]{#1}}
% \newcommand{\udot}[1]{\CJKunderdot[depth=0.2em,format=\color{black}]{#1}}

\renewcommand{\contentsname}{目\hspace{1em}录}
\renewcommand{\listfigurename}{插图目录}
\renewcommand{\listtablename}{表格目录}
\renewcommand{\figurename}{图}
\renewcommand{\tablename}{表}
\renewcommand{\appendixname}{附\hspace{1em}录}
\renewcommand{\indexname}{索\hspace{1em}引}
%\renewcommand{\listingscaption}{程序} % have to load minted first
%\renewcommand{\listoflistingscaption}{程序目录}% have to load minted first
%\renewcommand{\today}{\number\year 年\number\month 月\number\day 日}