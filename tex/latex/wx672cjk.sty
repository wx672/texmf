\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{wx672cjk}

\RequirePackage{ifxetex} % This class can only be processed with XeTeX

\RequirePackage{xeCJK}
\xeCJKDeclarePunctStyle{ condensed }
{
  min-bound-to-kerning    = true,%控制相邻两标点之间的空白宽度。
  kerning-margin-minimum  = .2em,%相邻两个标点之间的最小空白宽度。
}
\xeCJKsetup{PunctStyle=condensed}
\xeCJKsetwidth{“”《》、（）}{1.2ex}
\xeCJKsetkern{：}{（}{1ex}
\xeCJKsetkern{；}{（}{1ex}
\xeCJKsetkern{。}{“}{1ex}
\xeCJKsetkern{。}{《}{1.5ex}

\setCJKmainfont{Noto Serif CJK SC}
\setCJKsansfont{Noto Sans CJK SC}
\setCJKmonofont{Noto Sans Mono CJK SC}

\newCJKfontfamily\hei{Noto Serif CJK SC Bold} % \hei{Hello, world!}
\newCJKfontfamily\song{Noto Serif CJK SC}
\newCJKfontfamily\kai{AR PL UKai CN}
\newCJKfontfamily\quotefont{AR PL UKai CN}

\newCJKfontfamily\sig{signature}

\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt

\newcommand{\ziju}[1]{\renewcommand{\CJKglue}{\hskip #1}}
\RequirePackage{ulem}
\renewcommand{\uline}[1]{\CJKunderline-[depth=0.2em,format=\color{black}]{#1}}
\renewcommand{\uwave}[1]{\CJKunderwave-[depth=0.2em,format=\color{black}]{#1}}
\newcommand{\udot}[1]{\CJKunderdot[depth=0.2em,format=\color{black}]{#1}}

% adjust the spaces between numbers and Chinese characters
\xeCJKsetup{xCJKecglue=\hskip 0pt plus 0.08\baselineskip}

\renewcommand{\contentsname}{目\hspace{1em}录}
\renewcommand{\listfigurename}{插图目录}
\renewcommand{\listtablename}{表格目录}
\renewcommand{\figurename}{图}
\renewcommand{\tablename}{表}
\renewcommand{\appendixname}{附\hspace{1em}录}
\renewcommand{\indexname}{索\hspace{1em}引}
%\renewcommand{\listingscaption}{程序} % have to load minted first
%\renewcommand{\listoflistingscaption}{程序目录}% have to load minted first
