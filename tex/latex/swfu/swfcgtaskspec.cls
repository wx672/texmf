% è¥¿å—æ—ä¸šå¤§å­¦æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰ä»»åŠ¡ä¹¦
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{swfcgtaskspec}

\LoadClass[scheme=plain]{ctexart}

\RequirePackage{ifxetex} % XeTeX only

\RequirePackage{tabu,longtable}
\RequirePackage{graphicx}
\RequirePackage[ % showframe,
paperwidth=195mm,paperheight=270mm,
top=2cm,bottom=1cm,
left=2cm,right=2cm
]{geometry}

\RequirePackage{wx672bib}
\RequirePackage{wx672hyperref}

\newfontfamily\dejavu{DejaVu Sans Mono}
\newcommand\unchecked{\dejavu â–¡}%ballot box
\newcommand\checked{\large\dejavu â˜‘} %ğŸ—¹

% Declare some variables to hold the text fields for the preliminary pages
\newcommand{\Prjtitle}[1]{\gdef\SWFCField@Prjtitle{\kaishu #1}} % è®ºæ–‡æ ‡é¢˜
\newcommand{\Signature}[1]{\gdef\SWFCField@Signature{#1}} % æŒ‡å¯¼æ•™å¸ˆç­¾å
\newcommand{\StudSignature}[1]{\gdef\SWFCField@StudSignature{#1}} % å­¦ç”Ÿæ•™å¸ˆç­¾å
\newcommand{\Studname}[1]{\gdef\SWFCField@Studname{\kaishu #1}} % å­¦ç”Ÿå§“å
\newcommand{\Studid}[1]{\gdef\SWFCField@Studid{#1}} % å­¦ç”Ÿå­¦å·
\newcommand{\Studclass}[1]{\gdef\SWFCField@Studclass{\kaishu #1}} % å­¦ç”Ÿç­çº§
\newcommand{\Prjwhy}[1]{\gdef\SWFCField@Prjwhy{\kaishu #1}} % é€‰é¢˜çš„ç›®çš„åŠæ„ä¹‰
\newcommand{\Prjwhat}[1]{\gdef\SWFCField@Prjwhat{\kaishu #1}} % å­¦ç”Ÿä»»åŠ¡åŠè¦æ±‚
\newcommand{\Prjwhen}[1]{\gdef\SWFCField@Prjwhen{\kaishu #1}} % è¿›åº¦å®‰æ’
\newcommand{\Prjbib}[1]{\gdef\SWFCField@Prjbib{#1}} % å‚è€ƒæ–‡çŒ®
\newcommand{\Gyear}[1]{\gdef\SWFCField@Gyear{#1}} % æ¯•ä¸šå¹´ä»½
\newcommand{\Year}[1]{\gdef\SWFCField@Year{#1}} % å¡«è¡¨å¹´ã€æœˆã€æ—¥
\newcommand{\Month}[1]{\gdef\SWFCField@Month{#1}}
\newcommand{\Date}[1]{\gdef\SWFCField@Date{#1}}

\newcommand{\makeform}{\pagestyle{empty}
  {\centering
    {\heiti\large è¥¿å—æ—ä¸šå¤§å­¦\SWFCField@Gyear{}å±Šæ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰ä»»åŠ¡ä¹¦}\\[3ex]
    \tabulinesep=3pt
    \begin{tabu}{|X[c,m,-1]|X[c]|}
      \tabucline-
      \textbf{è®ºæ–‡ï¼ˆè®¾è®¡ï¼‰é¢˜ç›®}&\SWFCField@Prjtitle\\\tabucline-
    \end{tabu}\vspace{-1pt}
    \begin{tabu}{|c|X[c]|c|X[c]|c|X[c]|}
      \textbf{å­¦ç”Ÿå§“å}&\SWFCField@Studname&
      \textbf{å­¦å·}&\SWFCField@Studid&
      \textbf{ä¸“ä¸šç­çº§}&\SWFCField@Studclass\\\tabucline-
    \end{tabu}\vspace{-1pt}
    \begin{tabu}{|X[-1,m]|X|X[-1,m]|X[c]|}
      \textbf{é¢˜ç›®æ¥æº}&\tabulinesep=0pt
      \begin{tabu}{@{}X@{}}
        \unchecked{}å¤§å­¦ç”Ÿåˆ›æ–°åˆ›ä¸šé¡¹ç›®\\
        \unchecked{}ç§‘ç ”\quad\unchecked{}ç¤¾ä¼šå®è·µ\quad{}{\large\checked}å…¶å®ƒ
      \end{tabu}&
      \textbf{é¢˜ç›®ç±»åˆ«}&\unchecked{}è®ºæ–‡\qquad{\large\checked}è®¾è®¡\\
    \end{tabu}\vspace{-2.8ex}
    \begin{longtabu}{|p{1em}|X|}\tabucline-\endhead
      \vspace{10ex}
      \textbf{é€‰é¢˜çš„ç›®çš„åŠæ„ä¹‰}\par\vspace{10ex}&\vspace{1ex}\SWFCField@Prjwhy\\\tabucline-
      \vspace{10ex}
      \textbf{å­¦ç”Ÿä»»åŠ¡åŠè¦æ±‚}\par\vspace{10ex}&\vspace{1ex}\SWFCField@Prjwhat\\\tabucline-
      \vspace{10ex}
      \textbf{è¿›åº¦å®‰æ’}\par\vspace{10ex}&\SWFCField@Prjwhen\\\tabucline-
      \vspace{10ex}
      \textbf{å‚è€ƒæ–‡çŒ®}\par\vspace{10ex}&\SWFCField@Prjbib\\\tabucline-
    \end{longtabu}\vspace{-2.4ex}
    \tabulinesep=3pt
    \begin{tabu}{|X[c,-1]|X|X[c,-1]|X|}
      \textbf{ä»»åŠ¡ä¸‹è¾¾}\par\textbf{æ—¥æœŸ}&&
      \textbf{å­¦ç”Ÿåº”é€äº¤æ¯•ä¸š}\par\textbf{è®ºæ–‡ï¼ˆè®¾è®¡ï¼‰æ—¥æœŸ}&\\\tabucline-
    \end{tabu}\vspace{-1pt}\tabulinesep=2pt
    \begin{tabu}{|X[-1,c]|X|X[-1,c]|X|}
      \textbf{æŒ‡å¯¼æ•™å¸ˆ}\par\textbf{ç­¾å­—}&
      \begin{minipage}{1.0\linewidth}
        % \vspace{4em}
        \makebox[7em][r]{\SWFCField@Signature{}}\par
        \hfill\SWFCField@Year{}\textbf{å¹´}\SWFCField@Month{}\textbf{æœˆ}\SWFCField@Date{}\textbf{æ—¥}
      \end{minipage}
      &\textbf{æ¥å—ä»»åŠ¡}\par\textbf{å­¦ç”Ÿç­¾å­—}&
      \begin{minipage}{1.0\linewidth}
        \vspace{4em}
        % \SWFCField@StudSignature{}
        \hfill\SWFCField@Year{}\textbf{å¹´}\SWFCField@Month{}\textbf{æœˆ}\SWFCField@Date{}\textbf{æ—¥}
      \end{minipage}\\\tabucline-
      \textbf{æ•™ç ”å®¤}\par\textbf{å®¡æ ¸}&
      \begin{minipage}{1.0\linewidth}
        \textbf{å®¡æ ¸æ„è§ã€ç­¾å­—ï¼š}
        \vspace{4em}
        \hfill\SWFCField@Year{}\textbf{å¹´}\SWFCField@Month{}\textbf{æœˆ}\SWFCField@Date{}\textbf{æ—¥}
      \end{minipage}
      &\textbf{å­¦é™¢ï¼ˆéƒ¨ï¼‰}\par\textbf{å®¡æ ¸}&
      \begin{minipage}{1.0\linewidth}
        \textbf{å®¡æ ¸æ„è§ã€ç­¾ç« ï¼š}
        \vspace{4em}
        \hfill\SWFCField@Year{}\textbf{å¹´}\SWFCField@Month{}\textbf{æœˆ}\SWFCField@Date{}\textbf{æ—¥}
      \end{minipage}\\\tabucline-
    \end{tabu}}
  \noindent\tabulinesep=3pt
  \begin{tabu}{@{}X[-1]X[-1]X}
    æ³¨ï¼š
    &1.&æ­¤ä»»åŠ¡ä¹¦ç”±æŒ‡å¯¼æ•™å¸ˆå¡«å†™ï¼Œå„é™¢ï¼ˆéƒ¨ï¼‰å®¡å®šï¼Œåœ¨æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰å¼€å§‹å‰ä¸€å‘¨å†…å¡«å¥½å¹¶å‘ç»™å­¦ç”Ÿã€‚\\
    &2.&æ­¤ä»»åŠ¡ä¹¦åŒé¢æ‰“å°ï¼Œä¸€å¼ä¸¤ä»½ã€‚å­¦ç”Ÿä¸€ä»½ï¼Œå¦ä¸€ä»½éšæ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰ä¿å­˜ã€‚
  \end{tabu}}

\Signature{\sig{ç‹æ™“æ—}}
\StudSignature{\hspace{4em}}
\Prjtitle{}
\Studclass{}
\Studname{}
\Gyear{\underline{\hspace{4em}}}
\Year{\underline{\hspace{4em}}}
\Month{\\hspace{2em}}
\Date{\\hspace{2em}}

\Prjwhy{ % ç›®çš„ã€æ„ä¹‰
  \begin{itemize}
  \item
  \item 
  \end{itemize}
}  
\Prjwhat{ % ä»»åŠ¡ã€è¦æ±‚
  \begin{itemize}
  \item
  \item 
  \end{itemize}
}

\Prjwhen{ % è¿›åº¦ã€å®‰æ’
  \begin{itemize}
  \item 
  \end{itemize}
}

\Prjbib{ % å‚è€ƒæ–‡çŒ®
  \begin{itemize}
  \item 
  \end{itemize}
}