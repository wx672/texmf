% è¥¿å—æ—ä¸šå¤§å­¦è¯¾ç¨‹æ•™å­¦å°ç»“è¡¨
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{swfusumup}

\RequirePackage{pgfkeys}

\pgfkeys{
  Term/.store in         = \SWFU@Term,%
  Coursetitle/.store in  = \SWFU@Coursetitle,%
  Totaltime/.store in    = \SWFU@Totaltime,%
  Labtime/.store in      = \SWFU@Labtime,%
  Practicetime/.store in = \SWFU@Practicetime,%
  Class/.store in        = \SWFU@Class,%
  Studnum/.store in      = \SWFU@Studnum,%
  Examtype/.store in     = \SWFU@Examtype,%
  Textbook/.store in     = \SWFU@Textbook,%
  % Publishtime/.store in  = \SWFU@Publishtime,%
  Sumup/.store in        = \SWFU@Sumup,%
  Suggestion/.store in   = \SWFU@Suggestion,%
  Date/.store in         = \SWFU@Date,%
  School/.store in       = \SWFU@School,       School       = å¤§æ•°æ®ä¸æ™ºèƒ½å·¥ç¨‹å­¦é™¢,%
  TeacherName/.store in  = \SWFU@TeacherName,  TeacherName  = ç‹æ™“æ—,%
  TeacherTitle/.store in = \SWFU@TeacherTitle, TeacherTitle = è®²å¸ˆ,%
  Multimedia/.store in   = \SWFU@Multimedia,   Multimedia   = \YES,%
  Bilingual/.store in    = \SWFU@Bilingual,    Bilingual    = \YES,%
}
\newcommand{\swfusetup}[1]{\pgfkeys{#1}}

\DeclareOption*{\PassOptionsToClass{\CurrentOption}{ctexart}}
\ProcessOptions\relax

\LoadClass[scheme=chinese]{ctexart}

\RequirePackage[backend=biber,url=false,doi=false,isbn=false,
style=gb7714-2015,gbpub=false,gbtype=false,gbpunctin=false]{biblatex}
\renewcommand*{\bibfont}{\scriptsize}

\RequirePackage{graphicx}

\RequirePackage[%showframe,
paperwidth=195mm, paperheight=270mm,
top=2cm, bottom=2cm,
left=2.5cm, right=2.5cm,
]{geometry}

\RequirePackage{tikz}
\usetikzlibrary{backgrounds,positioning,fit}

\newcommand{\Signit}[3]{%\Signit{-3cm}{-6.2cm}{../signature}
\begin{tikzpicture}[overlay,remember picture]%
  \node [xshift=#1,yshift=#2] at (current page.center) {%
    \includegraphics[scale=.1]{#3}%
  };%
\end{tikzpicture}}

\newfontfamily\dejavu{DejaVu Sans Mono}
\newcommand\unchecked{\dejavu â–¡}%ballot box
\newcommand\checked{\large\dejavu â˜‘} %ğŸ—¹

\newcommand{\YES}{{\Large\checked}æ˜¯\quad\unchecked{}å¦}
\newcommand{\NO}{\unchecked{}æ˜¯\quad{\Large\checked}å¦}

\RequirePackage{tabularx,makecell}
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}} % for centering p column
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}} % for centering p column
\newcolumntype{C}{>{\centering\arraybackslash}X}
\renewcommand{\arraystretch}{1.5}

\newcommand{\makeform}{
  {\centering%
    {\LARGE\heiti è¥¿å—æ—ä¸šå¤§å­¦è¯¾ç¨‹æ•™å­¦å°ç»“è¡¨}\\[2ex]%
    \begin{tabularx}{\textwidth}{|c|>{\kaishu}C|c|>{\kaishu}c|c|>{\kaishu}c|}%
      \hline%
      æˆè¯¾å­¦æœŸ&\texttt{\SWFU@Term}&è¯¾ç¨‹åç§°&\multicolumn{3}{c|}{\kaishu\SWFU@Coursetitle}\\\hline%
      æ€»\hspace{.5em}å­¦\hspace{.5em}æ—¶&\texttt{\SWFU@Totaltime}&å®éªŒå­¦æ—¶&\texttt{\SWFU@Labtime}&%
      å®ä¹ å¤©æ•°&\texttt{\SWFU@Practicetime}\\\hline%
      å¼€è¯¾é™¢ç³»&\SWFU@School&æˆè¯¾ç­çº§&\texttt{\SWFU@Class}&%
      å­¦ç”Ÿäººæ•°&\texttt{\SWFU@Studnum}\\\hline%
      å¤šåª’ä½“æ•™å­¦&\SWFU@Multimedia&åŒè¯­æ•™å­¦&\SWFU@Bilingual&%
      è€ƒæ ¸æ–¹å¼&\SWFU@Examtype\\\hline%
      æ‰€ç”¨æ•™æ&\multicolumn{5}{l|}{\,\SWFU@Textbook}\\\hline%&å‡ºç‰ˆæ—¶é—´&\SWFU@Publishtime
    \end{tabularx}\\[-1pt]
    \begin{tabularx}{\textwidth}{|M{1em}|>{\kaishu}X|}%
      \makecell{è¯¾\\ç¨‹\\æ•™\\å­¦\\æ€»\\ç»“}
      & \begin{minipage}[c][15em]{1.0\linewidth}
        \SWFU@Sumup
      \end{minipage}\\\hline%%
      \makecell{ä»Š\\å\\æ”¹\\é©\\è®¾\\æƒ³}
      & \begin{minipage}[c][12em]{1.0\linewidth}
        \SWFU@Suggestion
      \end{minipage}\\\hline%
    \end{tabularx}\\[-1pt]%
    \begin{tabularx}{\textwidth}{|*{2}{c|>{\kaishu}C|}}%
      å¡«æŠ¥äºº&\SWFU@TeacherName&èŒç§°&\SWFU@TeacherTitle\\\hline%
    \end{tabularx}\\[-1pt]
    \begin{tabularx}{\textwidth}{|X|}%
      å¡«æŠ¥æ—¥æœŸï¼š\quad\texttt{\SWFU@Date}\hfill{}ï¼ˆä»¥ä¸Šä¸ºæˆè¯¾æ•™å¸ˆå¡«å†™ï¼‰\\\hline%
      æ•™ç ”å®¤è´Ÿè´£äººå®¡é˜…æ„è§ï¼š\\[15ex]%
      \hfill\makebox[10em][l]{ç­¾åï¼š}%
      \makebox[5em][r]{å¹´}\makebox[3em][r]{æœˆ}\makebox[3em][r]{æ—¥}\\\hline%
    \end{tabularx}\\[1pt]
    æ³¨ï¼šæœ¬è¡¨å¤åˆ¶æœ‰æ•ˆ}}

\setlength{\parindent}{2em}

\pagestyle{empty}