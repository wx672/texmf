% è¥¿å—æ—ä¸šå¤§å­¦è¯¾ç¨‹æ•™å­¦å°ç»“è¡¨
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{swfcsumup}


\RequirePackage{ifxetex} % XeTeX only

\RequirePackage{pgfkeys,etoolbox,calc}

\pgfkeys{
  Term/.store in         = \SWFU@Term,         Term         =, 
  Coursetitle/.store in  = \SWFU@Coursetitle,  Coursetitle  =, 
  Totaltime/.store in    = \SWFU@Totaltime,    Totaltime    =, 
  Labtime/.store in      = \SWFU@Labtime,      Labtime      =, 
  Practicetime/.store in = \SWFU@Practicetime, Practicetime =, 
  Class/.store in        = \SWFU@Class,        Class        =, 
  Studnum/.store in      = \SWFU@Studnum,      Studnum      =, 
  Examtype/.store in     = \SWFU@Examtype,     Examtype     =, 
  Textbook/.store in     = \SWFU@Textbook,     Textbook     =, 
  Publishtime/.store in  = \SWFU@Publishtime,  Publishtime  =, 
  Sumup/.store in        = \SWFU@Sumup,        Sumup        =, 
  Suggestion/.store in   = \SWFU@Suggestion,   Suggestion   =, 
  Date/.store in         = \SWFU@Date,         Date         =, 
  School/.store in       = \SWFU@School,       School/.default       = å¤§æ•°æ®ä¸æ™ºèƒ½å·¥ç¨‹å­¦é™¢, 
  TeacherName/.store in  = \SWFU@TeacherName,  TeacherName/.default  = ç‹æ™“æ—, 
  TeacherTitle/.store in = \SWFU@TeacherTitle, TeacherTitle/.default = è®²å¸ˆ, 
  Multimedia/.store in   = \SWFU@Multimedia,   Multimedia/.default   = \YES, 
  Bilingual/.store in    = \SWFU@Bilingual,    Bilingual/.default    = \YES, 
}

\DeclareOption*{\PassOptionsToClass{\CurrentOption}{ctexart}}
\ProcessOptions\relax

\LoadClass[scheme=plain]{ctexart}

\RequirePackage{tabu,array}
\RequirePackage{graphicx}

\RequirePackage[% showframe,
paperwidth=195mm, paperheight=270mm,
top=2cm, bottom=2cm,
left=2.5cm, right=2.5cm,
]{geometry}

\RequirePackage{tikz}
\usetikzlibrary{backgrounds,positioning,fit}

\newcommand{\Signit}[3]{%\Signit{-3cm}{-6.2cm}{../signature}
\begin{tikzpicture}[overlay,remember picture]%
  \node [xshift=#1,yshift=#2] at (current page.center) {%
    \includegraphics[scale=.1]{#3}%
  };%
\end{tikzpicture}}

\newfontfamily\dejavu{DejaVu Sans Mono}
\newcommand\unchecked{\dejavu â–¡}%ballot box
\newcommand\checked{\large\dejavu â˜‘} %ğŸ—¹

\newcommand{\YES}{{\Large\checked}æ˜¯\quad\unchecked{}å¦}
\newcommand{\NO}{\unchecked{}æ˜¯\quad{\Large\checked}å¦}

\newcommand{\makeform}{
  {\centering
    {\LARGE\heiti è¥¿å—æ—ä¸šå¤§å­¦è¯¾ç¨‹æ•™å­¦å°ç»“è¡¨}\\[2ex]
    \tabulinesep=2mm
    \begin{tabu}{|c|c|c|c|c|X[c]|}
      \tabucline-
      æˆè¯¾å­¦æœŸ&\SWFU@Term{}&è¯¾ç¨‹åç§°&\multicolumn{3}{c|}{\SWFU@Coursetitle{}}\\\tabucline-
      æ€»\hspace{.5em}å­¦\hspace{.5em}æ—¶&\SWFU@Totaltime{}&å®éªŒå­¦æ—¶&\SWFU@Labtime{}&
      å®ä¹ å¤©æ•°&\SWFU@Practicetime{}{\kaishu å‘¨}\\\tabucline-
      å¼€è¯¾é™¢ç³»&\SWFU@School{}&æˆè¯¾ç­çº§&\SWFU@Class{}&
      å­¦ç”Ÿäººæ•°&\SWFU@Studnum{}{\kaishu äºº}\\\tabucline-
      å¤šåª’ä½“æ•™å­¦&\SWFU@Multimedia{}&åŒè¯­æ•™å­¦&\SWFU@Bilingual{}&
      è€ƒæ ¸æ–¹å¼&\SWFU@Examtype{}\\\tabucline-
      æ‰€ç”¨æ•™æ&\multicolumn{3}{c|}{\SWFU@Textbook{}}&
      å‡ºç‰ˆæ—¶é—´&\SWFU@Publishtime{}\\\tabucline-
    \end{tabu}
    \vspace{-1pt} \tabulinesep=0pt
    \begin{tabu}{|X[.1,c]|X|}
      è¯¾ç¨‹\par\vspace{4ex}æ•™å­¦\par\vspace{4ex}æ€»ç»“\par\vspace{1cm}&
      \begin{minipage}{\columnwidth}
        \vspace*{3ex}
        \SWFU@Sumup{}
      \end{minipage}\\\tabucline-%
      \vspace{1cm}ä»Šå\par\vspace{4ex}æ”¹é©\par\vspace{4ex}è®¾æƒ³\par\vspace{3cm}&
      \begin{minipage}{.7\columnwidth}
        \vspace{3ex}
        \SWFU@Suggestion{}
      \end{minipage}\\\tabucline-
      å¡«æŠ¥äºº&\tabulinesep=2mm
      \begin{tabu}{X[c]|c|X[c]}%
        \SWFU@TeacherName{}&èŒç§°&\SWFU@TeacherTitle{}\\
      \end{tabu}\\\tabucline-
    \end{tabu}
    \vspace{-1pt} \tabulinesep=2mm
    \begin{tabu}{|X|}
      å¡«æŠ¥æ—¥æœŸï¼š\quad\SWFU@Date\hfill{}ï¼ˆä»¥ä¸Šä¸ºæˆè¯¾æ•™å¸ˆå¡«å†™ï¼‰\\\tabucline-
      æ•™ç ”å®¤è´Ÿè´£äººå®¡é˜…æ„è§ï¼š\\[5ex]
      \hfill{}\makebox[10em][l]{ç­¾åï¼š}
      \makebox[5em][r]{å¹´}\makebox[3em][r]{æœˆ}\makebox[3em][r]{æ—¥}\\\tabucline-
    \end{tabu}
    æ³¨ï¼šæœ¬è¡¨å¤åˆ¶æœ‰æ•ˆ}}

\setlength{\parindent}{2em}

\pagestyle{empty}