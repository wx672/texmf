% è¥¿å—æ—ä¸šå¤§å­¦å…¨æ—¥åˆ¶æœ¬ç§‘æ•™æé€‰ç”¨å®¡æ‰¹è¡¨ï¼ˆ2023ï¼‰
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{swfutextbook}

\RequirePackage{pgfkeys}

\pgfkeys{
  School/.store in     = \SWFU@School,% æ•™å­¦å•ä½
  Course/.store in     = \SWFU@Course,   %è¯¾ç¨‹åç§°
  CourseID/.store in   = \SWFU@CourseID, %è¯¾ç¨‹å·
  Degree/.store in     = \SWFU@Degree,% å¼€è¯¾å±‚æ¬¡ï¼ˆæœ¬ç§‘ï¼‰
  Teacher/.store in    = \SWFU@Teacher,% è¯¾ç¨‹è´Ÿè´£äºº
  TeacherSig/.store in = \SWFU@TeacherSig,%è¯¾ç¨‹è´Ÿè´£äººç­¾å­—
  TeacherSigDate/.store in = \SWFU@TeacherSigDate,%è¯¾ç¨‹è´Ÿè´£äººç­¾å­—æ—¶é—´æˆ³
  Dept/.store in = \SWFU@Dept,% è¯¾ç¨‹è´Ÿè´£æ•™ç ”å®¤ï¼ˆç³»ï¼‰
  DeptSig/.store in = \SWFU@DeptSig,%æ•™ç ”å®¤ï¼ˆç³»ï¼‰ä¸»ä»»ç­¾å­—
  DeptSigDate/.store in = \SWFU@DeptSigDate,%æ•™ç ”å®¤ï¼ˆç³»ï¼‰ä¸»ä»»ç­¾å­—æ—¶é—´æˆ³
  Grade/.store in = \SWFU@Grade, %æˆè¯¾å¹´çº§
  Subject/.store in    = \SWFU@Subject,% æˆè¯¾ä¸“ä¸š
  Book/.store in = \SWFU@Book,%æ•™æåç§°
  ISBN/.store in = \SWFU@ISBN,%ä¹¦å·ï¼ˆISBNï¼‰
  BookAuthor/.store in = \SWFU@BookAuthor, %æ•™æä½œè€…
  Publisher/.store in = \SWFU@Publisher,%å‡ºç‰ˆå•ä½
  PublishDate/.store in = \SWFU@PublishDate,%å‡ºç‰ˆæ—¶é—´ï¼ˆxå¹´xæœˆï¼‰
  DBInfo/.store in = \SWFU@DBInfo,%å…¥å­¦æ ¡æ•™æé€‰ç”¨æ•°æ®åº“æƒ…å†µï¼ˆ1. é¦–æ¬¡ç”³
  % è¯·å…¥åº“ï¼›2. å·²å…¥åº“ï¼Œå…¥åº“æ—¶é—´___å¹´ï¼‰
  DBYear/.store in = \SWFU@DBYear,%å…¥åº“æ—¶é—´___å¹´
  BookType/.store in = \SWFU@BookType,%åª’è´¨ç±»å‹ï¼ˆ1. çº¸è´¨æ•™æï¼›2. æ•°å­—
  % æ•™æï¼›3. æ–°å½¢æ€æ•™æï¼‰
  BookFrom/.store in = \SWFU@BookFrom,%æ•™æå‡ºå¤„ï¼ˆ1. å¢ƒå†…æ•™æï¼›2. å¢ƒå¤–
  % åŸç‰ˆï¼›3. å¢ƒå†…å½±å°æˆ–ç¿»è¯‘å‡ºç‰ˆï¼‰
  BookCls/.store in = \SWFU@BookCls,%æ•™æç±»å‹ï¼ˆ1. â€œé©¬å·¥ç¨‹â€ï¼›2. è§„åˆ’æ•™
                                %æï¼›3. ç²¾å“ã€ä¼˜ç§€æ•™æï¼›4. æ™®é€šæ•™æï¼›
                                %5. å…¶å®ƒ______ï¼›6. æ— ã€‚ï¼‰
  BookWhy/.store in = \SWFU@BookWhy,%é¦–æ¬¡é€‰ç”¨ä¾æ®/å†æ¬¡é€‰ç”¨ä½¿ç”¨æ•ˆæœè¯„ä»·æ„è§
  Default/.style = {%
    School = {å¤§æ•°æ®ä¸æ™ºèƒ½å·¥ç¨‹å­¦é™¢},    %æ•™å­¦å•ä½
    Course =,%è¯¾ç¨‹åç§°
    CourseID =,%è¯¾ç¨‹å·
    Degree     = {æœ¬ç§‘}, %å¼€è¯¾å±‚æ¬¡
    Teacher       = {ç‹æ™“æ—},%è¯¾ç¨‹è´Ÿè´£äºº
    TeacherSig =,%è¯¾ç¨‹è´Ÿè´£äººç­¾å­—
    TeacherSigDate={å¹´\hspace{2em}æœˆ\hspace{2em}æ—¥},%è¯¾ç¨‹è´Ÿè´£äººç­¾å­—æ—¶é—´æˆ³
    Dept ={è®¡ç®—æœºç§‘å­¦ä¸å·¥ç¨‹ç³»},% è¯¾ç¨‹è´Ÿè´£æ•™ç ”å®¤ï¼ˆç³»ï¼‰
    DeptSig =,%æ•™ç ”å®¤ï¼ˆç³»ï¼‰ä¸»ä»»ç­¾å­—
    DeptSigDate ={å¹´\hspace{2em}æœˆ\hspace{2em}æ—¥},%æ•™ç ”å®¤ï¼ˆç³»ï¼‰ä¸»ä»»ç­¾å­—æ—¶é—´æˆ³
    Grade =, %æˆè¯¾å¹´çº§
    Subject    = {è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯},       %æˆè¯¾ä¸“ä¸š
    Book =,%æ•™æåç§°
    ISBN =,%ä¹¦å·ï¼ˆISBNï¼‰
    BookAuthor =, %æ•™æä½œè€…
    Publisher =,%å‡ºç‰ˆå•ä½
    PublishDate =,%å‡ºç‰ˆæ—¶é—´ï¼ˆxå¹´xæœˆï¼‰
    DBInfo =,%å…¥å­¦æ ¡æ•™æé€‰ç”¨æ•°æ®åº“æƒ…å†µï¼ˆ1. é¦–æ¬¡ç”³
    % è¯·å…¥åº“ï¼›2. å·²å…¥åº“ï¼Œå…¥åº“æ—¶é—´___å¹´ï¼‰
    DBYear ={\hspace{4em}},%å…¥åº“æ—¶é—´___å¹´
    BookType ={1},%åª’è´¨ç±»å‹ï¼ˆ1. çº¸è´¨æ•™æï¼›2. æ•°å­—
    % æ•™æï¼›3. æ–°å½¢æ€æ•™æï¼‰
    BookFrom ={1},%æ•™æå‡ºå¤„ï¼ˆ1. å¢ƒå†…æ•™æï¼›2. å¢ƒå¤–
    % åŸç‰ˆï¼›3. å¢ƒå†…å½±å°æˆ–ç¿»è¯‘å‡ºç‰ˆï¼‰
    BookCls={3},%æ•™æç±»å‹ï¼ˆ1. â€œé©¬å·¥ç¨‹â€ï¼›2. è§„åˆ’æ•™æï¼›
    % 3. ç²¾å“ã€ä¼˜ç§€æ•™æï¼›4. æ™®é€šæ•™æï¼› 5. å…¶å®ƒ______ï¼›6. æ— ã€‚ï¼‰
    BookWhy={è§„åˆ’æ•™æï¼Œä½¿ç”¨æ•ˆæœè‰¯å¥½ã€‚}%é¦–æ¬¡é€‰ç”¨ä¾æ®/å†æ¬¡é€‰ç”¨ä½¿ç”¨æ•ˆæœè¯„ä»·æ„è§
  }}

\newcommand{\swfusetup}[1]{\pgfkeys{#1}}

\LoadClass{article}%[scheme=chinese]{ctexart}%zihao=-4

\RequirePackage{wx672babel}

\RequirePackage[ % showframe,
paperwidth=210mm,paperheight=297mm,
top=2cm,bottom=2cm,
left=2cm,right=2.5cm
]{geometry}

\RequirePackage{tabularray,graphicx,newunicodechar}
\newfontfamily\symbola{Symbola Nerd Font}
\newunicodechar{â˜}{{\symbola â˜}}%ballot box ğŸ—†
\newunicodechar{â˜‘}{{\symbola â˜‘}}%checked box tick ğŸ—¹

\newcommand{\makeform}{%
  \pagestyle{empty}%
  \begin{center}
    \LARGE\bfseries è¥¿å—æ—ä¸šå¤§å­¦å…¨æ—¥åˆ¶æœ¬ç§‘æ•™æé€‰ç”¨å®¡æ‰¹è¡¨
  \end{center}
  æ•™å­¦å•ä½ï¼š{\ttfamily\SWFU@School}\par\noindent
  \begin{tblr}{colspec={Q[3em,c]ccX[l]cX[c]}, vlines, hlines,%
      cell{1}{1}={r=4}{c,m},%è¯¾ç¨‹ä¿¡æ¯
      cell{1,2,3}{3}={c=2}{c,font=\ttfamily},%è¯¾ç¨‹åç§°ã€è¯¾ç¨‹è´Ÿè´£äººã€æ•™ç ”å®¤
      cell{4}{3}={c=4}{c,font=\ttfamily},%æˆè¯¾ä¸“ä¸š
      cell{5}{1}={r=7}{c,m},%é€‰ç”¨æ•™æä¿¡æ¯
      cell{5}{3}={c=4}{c,font=\ttfamily},%æ•™æåç§°
      cell{6,7}{3}={c=2}{c,font=\ttfamily},%ä¹¦å·ã€å‡ºç‰ˆå•ä½
      cell{8-11}{4}={c=3}{l,m},%å…¥åº“æƒ…å†µã€åª’è´¨ç±»å‹ã€æ•™æå‡ºå¤„ã€æ•™æç±»å‹
      cell{3}{2}={c,m},%
      cell{8}{2}={c,m},%
      cell{12-15}{2}={c=5}{c,f},%
      cell{8-11}{3}={c,font=\ttfamily},%
      cell{1,2,3,6,7}{6}={c,font=\ttfamily}
    }
    {è¯¾ç¨‹\\ä¿¡æ¯}&è¯¾ç¨‹åç§°&\SWFU@Course&&å¼€è¯¾å±‚æ¬¡&\SWFU@Degree\\
    &è¯¾ç¨‹è´Ÿè´£äºº&\SWFU@Teacher&&è¯¾ç¨‹å·&\SWFU@CourseID\\
    &{è¯¾ç¨‹è´Ÿè´£\\æ•™ç ”å®¤ï¼ˆç³»ï¼‰}&\SWFU@Dept&&æˆè¯¾å¹´çº§&\SWFU@Grade\\
    &æˆè¯¾ä¸“ä¸š&\SWFU@Subject&&&\\
    %%%%%%%%%%%%%%%%%%%%%%%%%%%
    {é€‰ç”¨\\æ•™æ\\ä¿¡æ¯}&æ•™æåç§°ï¼ˆç‰ˆæ¬¡ï¼‰&\SWFU@Book&&&\\
    &ä¹¦å·ï¼ˆISBNï¼‰&\SWFU@ISBN&&æ•™æä½œè€…&\SWFU@BookAuthor\\
    &å‡ºç‰ˆå•ä½&\SWFU@Publisher&&å‡ºç‰ˆæ—¶é—´&\SWFU@PublishDate\\
    &{å…¥å­¦æ ¡æ•™æé€‰\\ç”¨æ•°æ®åº“æƒ…å†µ}&\SWFU@DBInfo&{1.\,é¦–æ¬¡ç”³è¯·å…¥å­¦æ ¡æ•™æ%
      é€‰ç”¨æ•°æ®åº“\\2.\,å·²å…¥å­¦æ ¡æ•™æé€‰ç”¨æ•°æ®åº“ï¼Œå…¥åº“æ—¶é—´%
      \underline{\SWFU@DBYear}}&&\\
    &åª’è´¨ç±»å‹&\SWFU@BookType&{1.\,çº¸è´¨æ•™æ\quad 2.\,æ•°å­—æ•™æ\quad 3.\,æ–°å½¢æ€æ•™æ}&&\\
    &æ•™æå‡ºå¤„&\SWFU@BookFrom&{1.\,å¢ƒå†…æ•™æ\quad 2.\,å¢ƒå¤–åŸç‰ˆ\quad 3.\,å¢ƒå†…å½±å°æˆ–%
      ç¿»è¯‘å‡ºç‰ˆ}&&\\
    &æ•™æç±»å‹&\SWFU@BookCls&{1.\,â€œé©¬å·¥ç¨‹â€é‡ç‚¹æ•™æåŠå›½å®¶ç»Ÿç¼–æ•™æ\quad
      2.\,è§„åˆ’æ•™æï¼ˆå›½å®¶çº§ã€çœçº§ï¼‰\\3.\,ç²¾å“ã€ä¼˜ç§€æ•™æï¼ˆå›½å®¶çº§ã€çœçº§ã€å­¦ä¼šã€
      è¡Œä¸šç­‰ï¼‰\\4.\,æ™®é€šæ•™æ\quad 5.\,å…¶ä»–\underline{\hspace{4em}}\quad 6.\,æ— }&&\\
    %%%%%%%%%%%%%%%%%%%
    {é¦–æ¬¡é€‰\\ç”¨ä¾æ®\\/\\å†æ¬¡é€‰\\ç”¨ä½¿ç”¨\\æ•ˆæœè¯„\\ä»·æ„è§}&
      \begin{minipage}[m]{.95\linewidth}
        {\ttfamily\SWFU@BookWhy}\par
        \vspace*{1cm}
        \begin{flushright}
          è¯¾ç¨‹è´Ÿè´£äººç­¾å­—ï¼š\quad\SWFU@TeacherSig\qquad%
          æ•™ç ”å®¤ï¼ˆç³»ï¼‰ä¸»ä»»ç­¾å­—ï¼š\quad\SWFU@DeptSig\\
          \SWFU@TeacherSigDate\hspace{9em}\SWFU@DeptSigDate%
        \end{flushright}
      \end{minipage}%
    &&&&\\
    %%%%%%%%%%%%%%%%%%%%%%%
    {æ•™å­¦\\ç§‘ç ”\\å•ä½\\å®¡æ ¸\\æ„è§}&
      \begin{minipage}[c]{.95\linewidth}
        æ•™æé€‰ç”¨å®¡æ ¸ä¸“å®¶åå•ï¼ˆä¸å°‘äº3äººï¼‰ï¼š\par\bigskip
        æ•™æé€‰ç”¨å®¡æ ¸æ„è§ï¼š\qquad â˜‘åŒæ„é€‰ç”¨\qquad â˜ä¸åŒæ„é€‰ç”¨\par\bigskip
        \begin{flushright}
          ä¸“å®¶ç»„ç»„é•¿ç­¾å­—ï¼š\hspace{10em}%
          å­¦é™¢å…šå§”ä¹¦è®°ç­¾å­—ï¼ˆé™¢å…šå§”ç« ï¼‰ï¼š\hspace{25mm}\,\par\medskip
          å¹´\hspace{2em}æœˆ\hspace{2em}æ—¥%
          \hspace{9em}å¹´\hspace{2em}æœˆ\hspace{2em}æ—¥%
        \end{flushright}
      \end{minipage}%      
    &&&&\\
    {å…¬ç¤ºæœŸ}&&&&&\\
    {å­¦æ ¡æ•™\\æå·¥ä½œ\\å§”å‘˜ä¼š\\æ„è§}&%
      \begin{minipage}[m]{.95\linewidth}
        \hfill{}å¹´\hspace{2em}æœˆ\hspace{2em}æ—¥%
      \end{minipage}
    &&&&\\
  \end{tblr}\par
  \noindent%
  {\ttfamily%
    æ³¨ï¼šâ€œé©¬å·¥ç¨‹â€é‡ç‚¹æ•™æåŠå›½å®¶ç»Ÿç¼–æ•™æå¯ç›´æ¥é€šè¿‡æ•™å­¦å•ä½å®¡æ ¸ç¯èŠ‚è¿›è¡Œå…¬ç¤ºã€‚}
}
