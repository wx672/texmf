% è¥¿å—æ—ä¸šå¤§å­¦æ•™å­¦è¿›ç¨‹ï¼ˆç†è®ºæ•™å­¦ï¼‰è®¡åˆ’è¡¨
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{swfuprogress}

\RequirePackage{ifxetex} % XeTeX only

\RequirePackage{pgfkeys}

\pgfkeys{%
  Coursetitle/.store in = \SWFU@Coursetitle,% è¯¾ç¨‹åç§°
  Term/.store in        = \SWFU@Term,       % å­¦å¹´åº¦
  Hours/.store in       = \SWFU@Hours,      % è®²è¯¾ã€å®éªŒå­¦æ—¶ï¼ˆæ ‡ç­¾ï¼‰
  Thours/.store in      = \SWFU@Thours, Thours=,  % è®²è¯¾å°æ—¶æ•°
  Lhours/.store in      = \SWFU@Lhours, Lhours=,  % å®éªŒå°æ—¶æ•°
  TLtitle/.store in     = \SWFU@TLtitle,TLtitle=, % ç†è®º/å®éªŒï¼ˆæ ‡é¢˜ï¼‰
  TLlabel/.store in     = \SWFU@TLlabel,TLlabel=, % ç†è®º/å®éªŒï¼ˆé™„æ³¨ï¼‰
  Chkbox/.store in      = \SWFU@Chkbox, Chkbox=,  % æœ¬ç§‘ã€ä¸“ç§‘
  Signature/.store in   = \SWFU@Signature,        % ä»»è¯¾æ•™å¸ˆç­¾å
  WKa/.store in    = \SWFU@WKa, WKa=,% è¯¾ç¨‹å†…å®¹
  WKb/.store in    = \SWFU@WKb, WKb=,%
  WKc/.store in    = \SWFU@WKc, WKc=,%
  WKd/.store in    = \SWFU@WKd, WKd=,%
  WKe/.store in    = \SWFU@WKe, WKe=,%
  WKf/.store in    = \SWFU@WKf, WKf=,%
  WKg/.store in    = \SWFU@WKg, WKg=,%
  WKh/.store in    = \SWFU@WKh, WKh=,%
  WKi/.store in    = \SWFU@WKi, WKi=,%
  WKj/.store in    = \SWFU@WKj, WKj=,%
  WKk/.store in    = \SWFU@WKk, WKk=,%
  WKl/.store in    = \SWFU@WKl, WKl=,%
  WKm/.store in    = \SWFU@WKm, WKm=,%
  WKn/.store in    = \SWFU@WKn, WKn=,%
  WKo/.store in    = \SWFU@WKo, WKo=,%
  WKp/.store in    = \SWFU@WKp, WKp=,%
  WKq/.store in    = \SWFU@WKq, WKq=,%
  WKr/.store in    = \SWFU@WKr, WKr=,%
  WKs/.store in    = \SWFU@WKs, WKs=,%
  WKt/.store in    = \SWFU@WKt, WKt=,%
  WKu/.store in    = \SWFU@WKu, WKu=,%
  WKv/.store in    = \SWFU@WKv, WKv=,%
  WKw/.store in    = \SWFU@WKw, WKw=,%
  WKx/.store in    = \SWFU@WKx, WKx=,%
  Bigtable/.store in    = \SWFU@Bigtable, % å¤§è¡¨
  T/.style = {% ç†è®ºæ•™å­¦è®¡åˆ’è¡¨
    TLtitle = ç†è®ºæ•™å­¦, TLlabel = å®éªŒ,%
    Hours = {è®²è¯¾å­¦æ—¶ï¼š\underline{\quad\texttt{\SWFU@Thours}\quad}\hspace{8em}%
      å®éªŒå­¦æ—¶ï¼š\underline{\quad\texttt{\SWFU@Lhours}\quad}},%
    Thours = 48, Lhours = 16,%
    Chkbox = {æœ¬ç§‘\,\checked\quad{}ä¸“ç§‘\,\unchecked},%
    Bigtable = {%
    \begin{tabularx}{\linewidth}{|c|>{\ttfamily}X|c|>{\ttfamily}X|}\hline%
      \normalfont{è¯¾æ¬¡}& \multicolumn{1}{c|}{\normalfont{è¯¾ç¨‹å†…å®¹}}&
      \normalfont{è¯¾æ¬¡}& \multicolumn{1}{c|}{\normalfont{è¯¾ç¨‹å†…å®¹}}\\\hline%
      1&\SWFU@WKa&21&\SWFU@WKu\\\hline%
      2&\SWFU@WKb&22&\SWFU@WKv\\\hline%
      3&\SWFU@WKc&23&\SWFU@WKw\\\hline%
      4&\SWFU@WKd&24&\SWFU@WKx\\\hline%
      5&\SWFU@WKe&25&\\\hline%
      6&\SWFU@WKf&26&\\\hline%
      7&\SWFU@WKg&27&\\\hline%
      8&\SWFU@WKh&28&\\\hline%
      9&\SWFU@WKi&29&\\\hline%
      10&\SWFU@WKj&30&\\\hline%
      11&\SWFU@WKk&31&\\\hline%
      12&\SWFU@WKl&32&\\\hline%
      13&\SWFU@WKm&33&\\\hline%
      14&\SWFU@WKn&34&\\\hline%
      15&\SWFU@WKo&35&\\\hline%
      16&\SWFU@WKp&36&\\\hline%
      17&\SWFU@WKq&37&\\\hline%
      18&\SWFU@WKr&38&\\\hline%
      19&\SWFU@WKs&39&\\\hline%
      20&\SWFU@WKt&40&\\\hline%
    \end{tabularx}}},%
L/.style = {% å®éªŒæ•™å­¦è®¡åˆ’è¡¨
  TLtitle = å®éªŒæ•™å­¦, TLlabel = ç†è®ºæ•™å­¦,%
  Hours=, Thours=, Lhours=,Chkbox=,%
  Bigtable = {%
    \begin{tabularx}{\linewidth}{|c|>{\ttfamily}X|}\hline%
      \normalfont{è¯¾æ¬¡}& \multicolumn{1}{c|}{\normalfont{å®éªŒå†…å®¹}}\\\hline%
      1&\SWFU@WKa\\\hline %
      2&\SWFU@WKb\\\hline%
      3&\SWFU@WKc\\\hline%
      4&\SWFU@WKd\\\hline%
      5&\SWFU@WKe\\\hline%
      6&\SWFU@WKf\\\hline%
      7&\SWFU@WKg\\\hline%
      8&\SWFU@WKh\\\hline%
      9&\SWFU@WKi\\\hline%
      10&\SWFU@WKj\\\hline%
      11&\SWFU@WKk\\\hline%
      12&\SWFU@WKl\\\hline%
      13&\SWFU@WKm\\\hline%
      14&\SWFU@WKn\\\hline%
      15&\SWFU@WKo\\\hline%
      16&\SWFU@WKp\\\hline%
      17&\SWFU@WKq\\\hline%
      18&\SWFU@WKr\\\hline%
      19&\SWFU@WKs\\\hline%
      20&\SWFU@WKt\\\hline%
    \end{tabularx}}}}

\newcommand{\swfusetup}[1]{\pgfkeys{#1}}

\DeclareOption*{\PassOptionsToClass{\CurrentOption}{ctexart}}
\ProcessOptions\relax

\LoadClass[scheme=plain]{ctexart}

\RequirePackage{graphicx,tabularx}

\newcolumntype{C}{>{\centering\arraybackslash}X}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}} % centering m column
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}} % centering p column
\renewcommand{\arraystretch}{1.8}

\RequirePackage[%showframe,
paperwidth=210mm,paperheight=297mm,
margin=2.5cm]{geometry}

%\renewcommand{\arraystretch}{1.5} % make table row higher

\newfontfamily\dejavu{DejaVu Sans Mono}
\newcommand\unchecked{{\dejavu â–¡}}%ballot box
\newcommand\checked{{\large\dejavu â˜‘}} %ğŸ—¹

\newcommand{\makeform}{\pagestyle{empty}
  \begin{center}
    {\LARGE\heiti è¥¿å—æ—ä¸šå¤§å­¦æ•™å­¦è¿›ç¨‹ï¼ˆ\SWFU@TLtitle{}ï¼‰è®¡åˆ’è¡¨}
  \end{center}
  å­¦\hspace{.5em}å¹´\hspace{.5em}åº¦ï¼š\underline{\quad\texttt{\SWFU@Term}\quad}\par
  è¯¾ç¨‹åç§°ï¼š\underline{\quad\kaishu\SWFU@Coursetitle\quad}\hfill\SWFU@Chkbox\par
  \SWFU@Hours\par
  \SWFU@Bigtable
  \vspace{-1pt}
  \begin{tabularx}{\linewidth}{|l|X|}
    ä»»è¯¾æ•™å¸ˆç­¾åï¼š&æ•™ç ”å®¤æ„è§ï¼š\\
    \SWFU@Signature&\vspace{3ex}
    \hfill{}\makebox[18em][l]{æ•™ç ”å®¤è´Ÿè´£äººç­¾åï¼š}\par\vspace{1ex}
    \hfill{}å¹´\hspace{3em}æœˆ\hspace{3em}æ—¥\\\hline
  \end{tabularx}\vspace{-1pt}
  \begin{tabularx}{\linewidth}{@{}lr@{.\,}X}
    æ³¨ï¼š&1&æœ¬è¡¨ä¸€å¼ä¸‰ä»½ï¼Œæ•™ç ”å®¤ã€åˆ†é™¢ï¼ˆç³»ã€éƒ¨ï¼‰ã€æ•™åŠ¡ç§‘å„ä¸€ä»½ï¼›\\[-1ex]
    &2&æœ‰\SWFU@TLlabel{}å­¦æ—¶çš„æ•™å¸ˆè¯·å¡«å†™ã€Šæ•™å­¦è¿›ç¨‹ï¼ˆ\SWFU@TLlabel{}ï¼‰è®¡åˆ’è¡¨ã€‹ï¼Œä¸€å¼ä¸‰ä»½ï¼›\\[-1ex]
    &3&è¯·åœ¨æ¥å—æ•™å­¦ä»»åŠ¡åï¼Œäºå½“å­¦æœŸç¬¬20å‘¨å‰äº¤å›ã€‚
  \end{tabularx}}

\setlength{\parindent}{0pt}
