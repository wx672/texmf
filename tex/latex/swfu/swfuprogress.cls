% è¥¿å—æ—ä¸šå¤§å­¦æ•™å­¦è¿›ç¨‹ï¼ˆç†è®ºæ•™å­¦ï¼‰è®¡åˆ’è¡¨
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{swfuprogress}

\RequirePackage{ifxetex} % XeTeX only

\RequirePackage{pgfkeys}

\pgfkeys{%
  Coursetitle/.store in = \SWFU@Coursetitle,% è¯¾ç¨‹åç§°
  Term/.store in        = \SWFU@Term,       % å­¦å¹´åº¦
  Hours/.store in       = \SWFU@Hours,      % è®²è¯¾ã€å®éªŒå­¦æ—¶ï¼ˆæ ‡ç­¾ï¼‰
  Thours/.store in      = \SWFU@Thours, Thours=,  % è®²è¯¾å°æ—¶æ•°
  Lhours/.store in      = \SWFU@Lhours, Lhours=,  % å®éªŒå°æ—¶æ•°
  TLtitle/.store in     = \SWFU@TLtitle,TLtitle=, % ç†è®º/å®éªŒï¼ˆæ ‡é¢˜ï¼‰
  TLlabel/.store in     = \SWFU@TLlabel,TLlabel=, % ç†è®º/å®éªŒï¼ˆé™„æ³¨ï¼‰
  Chkbox/.store in      = \SWFU@Chkbox, Chkbox=,  % æœ¬ç§‘ã€ä¸“ç§‘
  Signature/.store in   = \SWFU@Signature,        % ä»»è¯¾æ•™å¸ˆç­¾å
  WKa/.store in    = \SWFU@WKa, WKa=,% è¯¾ç¨‹å†…å®¹
  WKb/.store in    = \SWFU@WKb, WKb=,%
  WKc/.store in    = \SWFU@WKc, WKc=,%
  WKd/.store in    = \SWFU@WKd, WKd=,%
  WKe/.store in    = \SWFU@WKe, WKe=,%
  WKf/.store in    = \SWFU@WKf, WKf=,%
  WKg/.store in    = \SWFU@WKg, WKg=,%
  WKh/.store in    = \SWFU@WKh, WKh=,%
  WKi/.store in    = \SWFU@WKi, WKi=,%
  WKj/.store in    = \SWFU@WKj, WKj=,%
  WKk/.store in    = \SWFU@WKk, WKk=,%
  WKl/.store in    = \SWFU@WKl, WKl=,%
  WKm/.store in    = \SWFU@WKm, WKm=,%
  WKn/.store in    = \SWFU@WKn, WKn=,%
  WKo/.store in    = \SWFU@WKo, WKo=,%
  WKp/.store in    = \SWFU@WKp, WKp=,%
  WKq/.store in    = \SWFU@WKq, WKq=,%
  WKr/.store in    = \SWFU@WKr, WKr=,%
  WKs/.store in    = \SWFU@WKs, WKs=,%
  WKt/.store in    = \SWFU@WKt, WKt=,%
  WKu/.store in    = \SWFU@WKu, WKu=,%
  WKv/.store in    = \SWFU@WKv, WKv=,%
  WKw/.store in    = \SWFU@WKw, WKw=,%
  WKx/.store in    = \SWFU@WKx, WKx=,%
  Bigtable/.store in    = \SWFU@Bigtable, % å¤§è¡¨
  T/.style = {% ç†è®ºæ•™å­¦è®¡åˆ’è¡¨
    TLtitle = ç†è®ºæ•™å­¦, TLlabel = å®éªŒ,%
    Hours = {è®²è¯¾å­¦æ—¶ï¼š\underline{\quad\SWFU@Thours\quad}\hspace{8em}%
      å®éªŒå­¦æ—¶ï¼š\underline{\quad\SWFU@Lhours\quad}},%
    Thours = 48, Lhours = 16,%
    Chkbox = {æœ¬ç§‘\,\checked\qquad{}ä¸“ç§‘\unchecked},%
    Bigtable = {%
    \begin{tabu}{|c|X|c|X|}\tabucline-%
      è¯¾æ¬¡&\centering{è¯¾ç¨‹å†…å®¹}&è¯¾æ¬¡&\centering{è¯¾ç¨‹å†…å®¹}\\\tabucline-%
      1&\SWFU@WKa&21&\SWFU@WKu\\\tabucline-%
      2&\SWFU@WKb&22&\SWFU@WKv\\\tabucline-%
      3&\SWFU@WKc&23&\SWFU@WKw\\\tabucline-%
      4&\SWFU@WKd&24&\SWFU@WKx\\\tabucline-%
      5&\SWFU@WKe&25&\\\tabucline-%
      6&\SWFU@WKf&26&\\\tabucline-%
      7&\SWFU@WKg&27&\\\tabucline-%
      8&\SWFU@WKh&28&\\\tabucline-%
      9&\SWFU@WKi&29&\\\tabucline-%
      10&\SWFU@WKj&30&\\\tabucline-%
      11&\SWFU@WKk&31&\\\tabucline-%
      12&\SWFU@WKl&32&\\\tabucline-%
      13&\SWFU@WKm&33&\\\tabucline-%
      14&\SWFU@WKn&34&\\\tabucline-%
      15&\SWFU@WKo&35&\\\tabucline-%
      16&\SWFU@WKp&36&\\\tabucline-%
      17&\SWFU@WKq&37&\\\tabucline-%
      18&\SWFU@WKr&38&\\\tabucline-%
      19&\SWFU@WKs&39&\\\tabucline-%
      20&\SWFU@WKt&40&\\\tabucline-%
    \end{tabu}}},%
L/.style = {% å®éªŒæ•™å­¦è®¡åˆ’è¡¨
  TLtitle = å®éªŒæ•™å­¦, TLlabel = ç†è®ºæ•™å­¦,%
  Hours=, Thours=, Lhours=,Chkbox=,%
  Bigtable = {%
    \begin{tabu}{|c|X|}\tabucline-%
      è¯¾æ¬¡&\centering{å®éªŒå†…å®¹}\\\tabucline-%
      1&\SWFU@WKa\\\tabucline- %
      2&\SWFU@WKb\\\tabucline-%
      3&\SWFU@WKc\\\tabucline-%
      4&\SWFU@WKd\\\tabucline-%
      5&\SWFU@WKe\\\tabucline-%
      6&\SWFU@WKf\\\tabucline-%
      7&\SWFU@WKg\\\tabucline-%
      8&\SWFU@WKh\\\tabucline-%
      9&\SWFU@WKi\\\tabucline-%
      10&\SWFU@WKj\\\tabucline-%
      11&\SWFU@WKk\\\tabucline-%
      12&\SWFU@WKl\\\tabucline-%
      13&\SWFU@WKm\\\tabucline-%
      14&\SWFU@WKn\\\tabucline-%
      15&\SWFU@WKo\\\tabucline-%
      16&\SWFU@WKp\\\tabucline-%
      17&\SWFU@WKq\\\tabucline-%
      18&\SWFU@WKr\\\tabucline-%
      19&\SWFU@WKs\\\tabucline-%
      20&\SWFU@WKt\\\tabucline-%
    \end{tabu}}}}

\newcommand{\swfusetup}[1]{\pgfkeys{#1}}

\DeclareOption*{\PassOptionsToClass{\CurrentOption}{ctexart}}
\ProcessOptions\relax

\LoadClass[scheme=plain]{ctexart}

\RequirePackage{graphicx,tabu,array}

\RequirePackage[%showframe,
paperwidth=210mm,paperheight=297mm,
margin=2.5cm]{geometry}

%\renewcommand{\arraystretch}{1.5} % make table row higher

\newfontfamily\dejavu{DejaVu Sans Mono}
\newcommand\unchecked{{\dejavu â–¡}}%ballot box
\newcommand\checked{{\large\dejavu â˜‘}} %ğŸ—¹

\newcommand{\makeform}{\pagestyle{empty}
  \begin{center}
    {\LARGE\heiti è¥¿å—æ—ä¸šå¤§å­¦æ•™å­¦è¿›ç¨‹ï¼ˆ\SWFU@TLtitle{}ï¼‰è®¡åˆ’è¡¨}
  \end{center}
  å­¦\hspace{.5em}å¹´\hspace{.5em}åº¦ï¼š\underline{\quad\SWFU@Term\quad}\par
  è¯¾ç¨‹åç§°ï¼š\underline{\quad\SWFU@Coursetitle\quad}\hfill\SWFU@Chkbox\par
  \SWFU@Hours\par
  \tabulinesep^2mm_2mm%
  \SWFU@Bigtable
  \vspace{-1pt}
  \begin{tabu}{|l|X|}
    ä»»è¯¾æ•™å¸ˆç­¾åï¼š&æ•™ç ”å®¤æ„è§ï¼š\\
    \SWFU@Signature&\vspace{3ex}
    \hfill{}\makebox[18em][l]{æ•™ç ”å®¤è´Ÿè´£äººç­¾åï¼š}\par\vspace{1ex}
    \hfill{}å¹´\hspace{3em}æœˆ\hspace{3em}æ—¥\\\tabucline-
  \end{tabu}\vspace{-1pt}
  \tabulinesep=2pt%
  \begin{tabu}{@{}lr@{.\,}X}
    æ³¨ï¼š&1&æœ¬è¡¨ä¸€å¼ä¸‰ä»½ï¼Œæ•™ç ”å®¤ã€åˆ†é™¢ï¼ˆç³»ã€éƒ¨ï¼‰ã€æ•™åŠ¡ç§‘å„ä¸€ä»½ï¼›\\
    &2&æœ‰\SWFU@TLlabel{}å­¦æ—¶çš„æ•™å¸ˆè¯·å¡«å†™ã€Šæ•™å­¦è¿›ç¨‹ï¼ˆ\SWFU@TLlabel{}ï¼‰è®¡åˆ’è¡¨ã€‹ï¼Œä¸€å¼ä¸‰ä»½ï¼›\\
    &3&è¯·åœ¨æ¥å—æ•™å­¦ä»»åŠ¡åï¼Œäºå½“å­¦æœŸç¬¬20å‘¨å‰äº¤å›ã€‚
  \end{tabu}}

\setlength{\parindent}{0pt}
