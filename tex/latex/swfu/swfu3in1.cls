% è¥¿å—æ—ä¸šå¤§å­¦æœ¬ç§‘æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰å¼€é¢˜æŠ¥å‘Šã€ä»»åŠ¡ä¹¦ã€åŠå®ä¹ è®¡åˆ’è¡¨ï¼ˆå­¦ç”Ÿå¡«å†™ï¼‰
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{swfu3in1}

% pass unknown options to ctexart
\DeclareOption*{\PassOptionsToClass{\CurrentOption}{ctexart}}
\ProcessOptions\relax

\LoadClass[scheme=chinese]{ctexart}

\newfontfamily\dejavu{DejaVu Sans Mono}%
\newcommand\unchecked{{\dejavu â–¡}} %ballot box
\newcommand\checked{{\large\dejavu â˜‘}} %ğŸ—¹

\RequirePackage{pgfkeys}

\pgfkeys{%
  Advisora/.store in       = \SWFU@Advisora,       Advisora=,       % æŒ‡å¯¼æ•™å¸ˆa
  Advisorb/.store in       = \SWFU@Advisorb,       Advisorb=,       % æŒ‡å¯¼æ•™å¸ˆb
  AdvisoraTitle/.store in  = \SWFU@AdvisoraTitle,  AdvisoraTitle=,  % æŒ‡å¯¼æ•™å¸ˆaèŒç§°
  AdvisorbTitle/.store in  = \SWFU@AdvisorbTitle,  AdvisorbTitle=,  % æŒ‡å¯¼æ•™å¸ˆbèŒç§°
  AdvisoraSig/.store in    = \SWFU@AdvisoraSig,    AdvisoraSig=,    % æŒ‡å¯¼æ•™å¸ˆaç­¾å
  AdvisorbSig/.store in    = \SWFU@AdvisorbSig,    AdvisorbSig=,    % æŒ‡å¯¼æ•™å¸ˆbç­¾å
  AdvisoraGender/.store in = \SWFU@AdvisoraGender, AdvisoraGender=, % æŒ‡å¯¼æ•™å¸ˆaæ€§åˆ«
  AdvisorbGender/.store in = \SWFU@AdvisorbGender, AdvisorbGender=, % æŒ‡å¯¼æ•™å¸ˆbæ€§åˆ«
  AdvisoraAge/.store in    = \SWFU@AdvisoraAge,    AdvisoraAge=,    % æŒ‡å¯¼æ•™å¸ˆaå¹´é¾„
  AdvisorbAge/.store in    = \SWFU@AdvisorbAge,    AdvisorbAge=,    % æŒ‡å¯¼æ•™å¸ˆbå¹´é¾„
  AdvisoraDegree/.store in = \SWFU@AdvisoraDegree, AdvisoraDegree=, % æŒ‡å¯¼æ•™å¸ˆaå­¦ä½
  AdvisorbDegree/.store in = \SWFU@AdvisorbDegree, AdvisorbDegree=, % æŒ‡å¯¼æ•™å¸ˆbå­¦ä½
  AdvisoraFrom/.store in   = \SWFU@AdvisoraFrom, %ï¼ˆå¼€é¢˜æŠ¥å‘Šï¼‰æŒ‡å¯¼æ•™å¸ˆaå·¥ä½œå•ä½
  AdvisorbFrom/.store in   = \SWFU@AdvisorbFrom, %ï¼ˆå¼€é¢˜æŠ¥å‘Šï¼‰æŒ‡å¯¼æ•™å¸ˆbå·¥ä½œå•ä½
  AdvisoraFrom = {å¤§æ•°æ®ä¸æ™ºèƒ½å·¥ç¨‹å­¦é™¢},%a
  AdvisorbFrom =,%b  
  Studid/.store in        = \SWFU@Studid,  % å­¦å·
  Subject/.store in       = \SWFU@Subject, % ä¸“ä¸š
  Grade/.store in         = \SWFU@Grade,   % å¹´çº§
  StudSignature/.store in = \SWFU@StudSignature,%ï¼ˆä»»åŠ¡ä¹¦ï¼‰å­¦ç”Ÿç­¾å
  StudSignature           = {\includegraphics[width=2cm]{signature}},%
  School/.store in        = \SWFU@School,   %ï¼ˆå®ä¹ è®¡åˆ’è¡¨ï¼‰å­¦ç”Ÿæ‰€å±å­¦é™¢
  School = {å¤§æ•°æ®ä¸æ™ºèƒ½å·¥ç¨‹å­¦é™¢},%
  Gyear/.store in = \SWFU@Gyear,%ï¼ˆä»»åŠ¡ä¹¦ã€å®ä¹ è®¡åˆ’è¡¨ï¼‰å±Š
  Year/.store in  = \SWFU@Year, %ï¼ˆå¼€é¢˜æŠ¥å‘Šã€ä»»åŠ¡ä¹¦ï¼‰å¡«è¡¨ã€ç­¾å­—æ—¶é—´ï¼ˆå¹´ï¼‰
  Month/.store in = \SWFU@Month,%ï¼ˆå¼€é¢˜æŠ¥å‘Šã€ä»»åŠ¡ä¹¦ï¼‰å¡«è¡¨ã€ç­¾å­—æ—¶é—´ï¼ˆæœˆï¼‰
  Date/.store in  = \SWFU@Date, %ï¼ˆå¼€é¢˜æŠ¥å‘Šã€ä»»åŠ¡ä¹¦ï¼‰å¡«è¡¨ã€ç­¾å­—æ—¶é—´ï¼ˆæ—¥ï¼‰
  PrjFrmA/.store in  = \SWFU@PrjFrmA, PrjFrmA={\unchecked{}},   %ç§‘ç ”é¡¹ç›®
  PrjFrmB/.store in  = \SWFU@PrjFrmB, PrjFrmB={\unchecked{}},   %ç¤¾ä¼šå®è·µ
  PrjFrmC/.store in  = \SWFU@PrjFrmC, PrjFrmC={\unchecked{}},   %å¤§å­¦ç”Ÿåˆ›æ–°åˆ›ä¸šé¡¹ç›®
  PrjFrmD/.store in  = \SWFU@PrjFrmD, PrjFrmD={\unchecked{}},   %å…¶å®ƒæ¥æº
  PrjTypeA/.store in = \SWFU@PrjTypeA, PrjTypeA={\unchecked{}}, %æ¯•ä¸šè®ºæ–‡
  PrjTypeB/.store in = \SWFU@PrjTypeB, PrjTypeB={\checked{}},   %æ¯•ä¸šè®¾è®¡
  AdvisorComment/.store in = \SWFU@AdvisorComment, %ï¼ˆå¼€é¢˜æŠ¥å‘Šï¼‰æŒ‡å¯¼æ•™å¸ˆæ„è§
  PPSLi/.store in  = \SWFU@PPSLi,    %ï¼ˆå¼€é¢˜æŠ¥å‘Šï¼‰1. è¯¥ç ”ç©¶çš„ç›®çš„ã€æ„ä¹‰
  PPSLii/.store in = \SWFU@PPSLii,   %ï¼ˆå¼€é¢˜æŠ¥å‘Šï¼‰2. å›½å†…å¤–ç ”ç©¶ç°çŠ¶åŠå‘å±•è¶‹åŠ¿
  BIB/.store in    = \SWFU@BIB,      %ï¼ˆå¼€é¢˜æŠ¥å‘Šã€ä»»åŠ¡ä¹¦ï¼‰å‚è€ƒæ–‡çŒ®
  PPSLiv/.store in = \SWFU@PPSLiv,   %ï¼ˆå¼€é¢˜æŠ¥å‘Šï¼‰4. è¯¥ç ”ç©¶çš„ä¸»è¦å†…å®¹ï¼Œé‡ç‚¹è§£å†³çš„é—®é¢˜ï¼Œ
                                     %             é¢„æœŸç»“æœæˆ–æˆæœ
  PPSLv/.store in  = \SWFU@PPSLv,    %ï¼ˆå¼€é¢˜æŠ¥å‘Šï¼‰5. æ‹Ÿé‡‡å–çš„ç ”ç©¶æ–¹æ³•æˆ–å®éªŒæ–¹æ³•ï¼Œæ­¥éª¤ï¼Œ
                                     %             å¯èƒ½å‡ºç°çš„æŠ€æœ¯é—®é¢˜åŠè§£å†³åŠæ³•
  PPSLvi/.store in = \SWFU@PPSLvi,   %ï¼ˆå¼€é¢˜æŠ¥å‘Šï¼‰6. å®Œæˆè¯¥ç ”ç©¶å·²å…·å¤‡çš„æ¡ä»¶  
  TSKwhy/.store in  = \SWFU@TSKwhy,  %ï¼ˆä»»åŠ¡ä¹¦ï¼‰é€‰é¢˜çš„ç›®çš„åŠæ„ä¹‰
  TSKwhat/.store in = \SWFU@TSKwhat, %ï¼ˆä»»åŠ¡ä¹¦ï¼‰å­¦ç”Ÿä»»åŠ¡åŠè¦æ±‚
  TSKwhen/.store in = \SWFU@TSKwhen, %ï¼ˆä»»åŠ¡ä¹¦ï¼‰è¿›åº¦å®‰æ’
  Plan/.store in    = \SWFU@Plan,    %ï¼ˆå®ä¹ è®¡åˆ’è¡¨ï¼‰è®ºæ–‡å·¥ä½œè®¡åˆ’å’Œé¢„æœŸç›®æ ‡æ‘˜è¦
}

\newcommand{\swfusetup}[1]{\pgfkeys{#1}}

\RequirePackage[%showframe,%showcrop,
top=3cm,bottom=2.5cm,left=3cm,right=2.5cm,
nomarginpar,headheight=15pt, % to avoid "headheight too small"
]{geometry}

\RequirePackage{graphicx} % before xltxtra
\graphicspath{{./figs/}{./}{../}} %mind the trailing â€œ/â€

\RequirePackage{caption,subcaption}% \captionof{table|figure}{t|f}

\RequirePackage{tabularx,longtable,booktabs,makecell,multicol,multirow,array}
\renewcommand{\arraystretch}{1.5}
\newcolumntype{C}{>{\centering\arraybackslash}X}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}} % centering m column
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}} % centering p column

\RequirePackage{indentfirst,enumitem} % \setlist
\setlist{nosep} % kills all vertical spacing
% \setlist{itemsep=-.5ex}

%%%%% biblatex
\RequirePackage[backend=biber,%
style=gb7714-2015,gbpub=false,gbtype=false,gbpunctin=false,%
url=false,doi=false,isbn=false]{biblatex}

% https://tex.stackexchange.com/questions/247185/tcolorbox-theorem-which-isnt-framed-on-the-sides
\RequirePackage[breakable]{tcolorbox}
\newtcolorbox{mainbodybox}[1]{breakable,sharp corners,nobeforeafter,%
  colback=white,coltitle=black,colbacktitle=white,%
  boxrule=.5pt,titlerule=0pt,%
  bottomrule at break=.5pt,after skip=-1.5pt,% bottomrule=0pt, bottom=1em,
  before upper={\parindent 2em},% indentfirst  
  fonttitle=\large\bfseries,title=#1}

% \singlespacing, \onehalfspacing, \doublespacing
\RequirePackage[doublespacing]{setspace}
\renewcommand\doublespacing{\setstretch{1.6}}

\setlength{\parindent}{2em}

\pagestyle{plain}

\newcommand{\PPSLtitlepage}{% Proposal title page
  \thispagestyle{empty}
  \begin{center}
    \makebox[14em][s]{\LARGE\heiti è¥¿å—æ—ä¸šå¤§å­¦}\\[5mm]
    \makebox[28em][s]{\LARGE\heiti æœ¬ç§‘æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰å¼€é¢˜æŠ¥å‘Š}\\[5mm]
    \vskip 3cm
    \begin{large}
      \begin{minipage}{1.0\linewidth}
        \begin{tabularx}{\textwidth}{@{}rX@{}}
          \makebox[5em][s]{è®ºæ–‡é¢˜ç›®}%
          &\makebox[0pt][t]{%
            \begin{minipage}[t]{30em}
              \begin{center}
                \parbox[t]{29em}{\centering\bfseries\Large\@title}
              \end{center}
            \end{minipage}}%
            \rule[-1.5ex]{30em}{.1pt}\par%
            \rule[-1.5ex]{30em}{.1pt}\\%
        \end{tabularx}
      \end{minipage}
      \vskip 2cm
      \begin{minipage}{.8\linewidth}
        \begin{center}
          \begin{tabularx}{\textwidth}{@{}rC@{}}
            \makebox[7em][s]{ä¸“ä¸šåç§°}%
            & \SWFU@Subject\\[-1ex]\cline{2-2}
            \makebox[7em][s]{å¹´çº§}%
            & \SWFU@Grade\\[-1ex]\cline{2-2}
            \makebox[7em][s]{å­¦ç”Ÿå§“å}%
            & \@author\\[-1ex]\cline{2-2}
            \makebox[7em][s]{å­¦ç”Ÿå­¦å·}%
            & \SWFU@Studid\\[-1ex]\cline{2-2}
            \makebox[7em][s]{æŒ‡å¯¼æ•™å¸ˆ (èŒç§°)}%
            & \SWFU@Advisora{}ï¼ˆ\SWFU@AdvisoraTitleï¼‰\\[-1ex]\cline{2-2}
            & \SWFU@Advisorb{} \SWFU@AdvisorbTitle\\[-1ex]\cline{2-2}
            \makebox[7em][s]{å¡«è¡¨æ—¶é—´}%
            & \SWFU@Year{}å¹´\,\SWFU@Month{}æœˆ\,\SWFU@Date{}æ—¥\\[-1ex]\cline{2-2}
          \end{tabularx}
        \end{center}
      \end{minipage}
    \end{large}
    \vfill
    {\Large\bfseries è¥¿å—æ—ä¸šå¤§å­¦æ•™åŠ¡å¤„åˆ¶}\\[1cm]
  \end{center}
  \clearpage}

\newcommand{\PPSLinstructionpage}{% Proposal instruction page
  \begin{center}
    \LARGE\bfseries\makebox[7em][s]{å¡«è¡¨è¯´æ˜}
  \end{center}
  \vskip 5ex
  \begin{itemize}
  \item[ä¸€ã€] å¼€é¢˜æŠ¥å‘Šå„é¡¹å†…å®¹è¦å®äº‹æ±‚æ˜¯ï¼Œé€æ¡è®¤çœŸå¡«å†™ï¼Œè¡¨è¾¾è¦æ˜ç¡®ã€ä¸¥è°¨ã€‚å¤–æ¥è¯­åº”ç”¨ä¸­æ–‡å’Œ
    è‹±æ–‡åŒæ—¶è¡¨è¾¾ï¼Œç¬¬ä¸€æ¬¡å‡ºç°çš„ç¼©å†™è¯ï¼Œé¡»æ³¨å‡ºå…¨ç§°ã€‚
  \item[äºŒã€] å¼€é¢˜æŠ¥å‘Šéœ€ç”¨è®¡ç®—æœºæ‰“å°ï¼Œä¸€å¾‹ä¸º A4 å¼€æœ¬ï¼Œäºå·¦ä¾§è£…è®¢æˆå†Œã€‚å„æ ç©ºæ ¼ä¸å¤Ÿæ—¶ï¼Œè¯·è‡ª
    è¡ŒåŠ é¡µã€‚
  \item[ä¸‰ã€] å¼€é¢˜æŠ¥å‘Šéœ€åœ¨ç¬¬å…«å­¦æœŸå¼€å­¦ä¹‹å‰å®Œæˆã€‚
  \item[å››ã€] å¼€é¢˜æŠ¥å‘Šéœ€è£…å…¥è¥¿å—æ—ä¸šå¤§å­¦æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰æ¡£æ¡ˆè¢‹ã€‚
  \end{itemize}
  \clearpage}

\newcommand{\PPSLmain}{% main part
  \begin{singlespace}
    \noindent
    \begin{tabularx}{\linewidth}{|M{2em}|@{}X@{}|}\hline
      æŒ‡å¯¼æ•™å¸ˆåŸºæœ¬æƒ…å†µ%
      & {\begin{tabularx}{\linewidth}{c|c|c|c|c|C}
           æŒ‡å¯¼æ•™å¸ˆå§“å%
           &\makecell*{æ€§\\åˆ«}&\makecell*{å¹´\\é¾„}&\makecell*{å­¦å†æˆ–\\å­¦ä½}%
           &\makecell*{ä¸“ä¸šæŠ€æœ¯\\èŒåŠ¡æˆ–èŒç§°}&å·¥ä½œå•ä½\\\hline
           \SWFU@Advisora%
           &\SWFU@AdvisoraGender&\SWFU@AdvisoraAge&\SWFU@AdvisoraDegree%
           &\SWFU@AdvisoraTitle&\SWFU@AdvisoraFrom\\\hline
           \SWFU@Advisorb%
           &\SWFU@AdvisorbGender&\SWFU@AdvisorbAge&\SWFU@AdvisorbDegree%
           &\SWFU@AdvisorbTitle&\SWFU@AdvisorbFrom\\
         \end{tabularx}}\\\hline
      è¯¾é¢˜æ¥æº%
      & \qquad\SWFU@PrjFrmA{}ç§‘ç ”é¡¹ç›®%
        \qquad\SWFU@PrjFrmB{}ç¤¾ä¼šå®è·µ%
        \qquad\SWFU@PrjFrmC{}å¤§å­¦ç”Ÿåˆ›æ–°åˆ›ä¸šé¡¹ç›®%
        \qquad\SWFU@PrjFrmD{}å…¶å®ƒæ¥æº\\[2ex]%
    \end{tabularx}
  \end{singlespace}
  \vskip -2pt
  \begin{mainbodybox}{1.\, è¯¥ç ”ç©¶çš„ç›®çš„ã€æ„ä¹‰}
    \SWFU@PPSLi{}
  \end{mainbodybox}
  \begin{mainbodybox}{2.\, å›½å†…å¤–ç ”ç©¶ç°çŠ¶åŠå‘å±•è¶‹åŠ¿}
    \SWFU@PPSLii{}
  \end{mainbodybox}
  \begin{mainbodybox}{3.\, ä¸»è¦å‚è€ƒæ–‡çŒ®}
    \SWFU@BIB{}
  \end{mainbodybox}
  \begin{mainbodybox}{4.\, è¯¥ç ”ç©¶çš„ä¸»è¦å†…å®¹ï¼Œé‡ç‚¹è§£å†³çš„é—®é¢˜ï¼Œé¢„æœŸç»“æœæˆ–æˆæœ}
    \SWFU@PPSLiv{}
  \end{mainbodybox}
  \begin{mainbodybox}{5.\, æ‹Ÿé‡‡å–çš„ç ”ç©¶æ–¹æ³•æˆ–å®éªŒæ–¹æ³•ï¼Œæ­¥éª¤ï¼Œå¯èƒ½å‡ºç°çš„æŠ€æœ¯é—®é¢˜åŠè§£å†³åŠæ³•}
    \SWFU@PPSLv{}
  \end{mainbodybox}
  \begin{mainbodybox}{6.\, å®Œæˆè¯¥ç ”ç©¶å·²å…·å¤‡çš„æ¡ä»¶}
    \SWFU@PPSLvi{}
  \end{mainbodybox}
  \begin{mainbodybox}{æŒ‡å¯¼æ•™å¸ˆæ„è§}
    \bigskip
    \SWFU@AdvisorComment\par
    \hfill ç­¾åï¼š\makebox[7em]{\SWFU@AdvisoraSig}\par
    \medskip
    \hfill\SWFU@Year å¹´ \SWFU@Month æœˆ \SWFU@Date æ—¥
  \end{mainbodybox}
  \noindent
  \begin{tcolorbox}[sharp corners,nobeforeafter,%
    left=0pt,right=0pt,top=-13pt,bottom=0pt,boxsep=0pt,%
    colback=white, boxrule=.5pt]
    \singlespacing\noindent
    \begin{tabularx}{\linewidth}{M{1em}|X|M{1em}|X}
      \makecell{æ•™\\ç ”\\å®¤\\æ„\\è§}%
      & \begin{minipage}[c][3.5cm]{1.0\linewidth}
        æ•™ç ”å®¤è´Ÿè´£äººï¼š\par%
        \vfill
        \hfill{}å¹´\qquad{}æœˆ\qquad{}æ—¥%
      \end{minipage}
      & \makecell{æ•™\\å­¦\\é™¢\\ç³»\\éƒ¨\\æ„\\è§}%
      & \begin{minipage}[c][3.5cm]{1.0\linewidth}
        æ•™å­¦é™¢ç³»éƒ¨è´Ÿè´£äººï¼š\par%
        \vfill
        \hfill{}å¹´\qquad{}æœˆ\qquad{}æ—¥          
      \end{minipage}\\
    \end{tabularx}    
  \end{tcolorbox}%
}

\newcommand{\maketaskspec}{%
  \pagestyle{empty}
  {\centering\singlespacing%
    {\heiti\Large è¥¿å—æ—ä¸šå¤§å­¦\SWFU@Gyear{}å±Šæœ¬ç§‘æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰ä»»åŠ¡ä¹¦}\\[3ex]%
    \begin{tabularx}{\textwidth}{|>{\bfseries}M{6em}|>{\kaishu}C|}%
      \hline%
      è®ºæ–‡ï¼ˆè®¾è®¡ï¼‰\par{}é¢˜ç›®&\@title\\\hline%
    \end{tabularx}\\[-1pt]
    \begin{tabularx}{\textwidth}{|>{\bfseries}M{6em}|>{\kaishu}C|*{2}{>{\bfseries}c|>{\kaishu}C|}}%
      å­¦ç”Ÿå§“å&\@author& å­¦å·&\SWFU@Studid& ä¸“ä¸š&\SWFU@Subject\\\hline%
    \end{tabularx}\\[-1pt]
    \begin{tabularx}{\textwidth}{|*{2}{>{\bfseries}M{6em}|>{\kaishu}C|}}%
      é¢˜ç›®æ¥æº&%
      \begin{minipage}[c][5em]{\linewidth}%
        \SWFU@PrjFrmA{}ç§‘ç ”é¡¹ç›®\par%
        \SWFU@PrjFrmB{}ç¤¾ä¼šå®è·µ\par%
        \SWFU@PrjFrmC{}å¤§å­¦ç”Ÿåˆ›æ–°åˆ›ä¸šé¡¹ç›®\par%
        \SWFU@PrjFrmD{}å…¶å®ƒ%
      \end{minipage}&%      
      é¢˜ç›®ç±»åˆ«&\SWFU@PrjTypeA{}æ¯•ä¸šè®ºæ–‡\qquad{}\SWFU@PrjTypeB{}æ¯•ä¸šè®¾è®¡\\\hline%
    \end{tabularx}\\%
    \begin{tabularx}{\textwidth}{|>{\bfseries}m{1em}|>{\kaishu}X|}
      é€‰é¢˜çš„ç›®çš„åŠæ„ä¹‰
      & \begin{minipage}[c][22em][t]{.9\columnwidth}
        \medskip
        \qquad\SWFU@TSKwhy
      \end{minipage}\\\hline
      å­¦ç”Ÿä»»åŠ¡åŠè¦æ±‚
      & \begin{minipage}[c][24em][t]{.9\columnwidth}
        \medskip
        \qquad\SWFU@TSKwhat{}
      \end{minipage}\\\hline
    \end{tabularx}\clearpage
    \begin{tabularx}{\textwidth}{|>{\bfseries}m{1em}|>{\kaishu}X|}\hline
      è¿›åº¦å®‰æ’
      & \begin{minipage}[c][15em][t]{.9\columnwidth}
        \medskip
        \qquad\SWFU@TSKwhen
      \end{minipage}\\\hline
      å‚è€ƒæ–‡çŒ®
      & \begin{minipage}[c][20em][t]{.9\columnwidth}
        \medskip
        \SWFU@BIB
      \end{minipage}\\\hline
    \end{tabularx}
    \begin{tabularx}{\textwidth}{|*{2}{>{\bfseries}c|X|}}%
      ä»»åŠ¡ä¸‹è¾¾æ—¥æœŸ&&\makecell{å­¦ç”Ÿåº”é€äº¤æ¯•ä¸šè®ºæ–‡\\ï¼ˆè®¾è®¡ï¼‰æ—¥æœŸ}&\\\hline%
    \end{tabularx}\\[-1pt]%
    \begin{tabularx}{\textwidth}{|*{2}{>{\bfseries}c|X|}}%
      \parbox{4em}{\centering æŒ‡å¯¼æ•™å¸ˆç­¾å­—}
      &\begin{minipage}[c][6em]{1.0\linewidth}%
        \makebox[7em][r]{\SWFU@AdvisoraSig}\par%
        \hfill\SWFU@Year{}å¹´\SWFU@Month{}æœˆ\SWFU@Date{}æ—¥%
      \end{minipage}%
      &\parbox{4em}{\centering æ¥å—ä»»åŠ¡å­¦ç”Ÿç­¾å­—}
      &\begin{minipage}[c][6em]{1.0\linewidth}%
        \makebox[7em][r]{\SWFU@StudSignature}\par%
        \hfill\SWFU@Year{}å¹´\SWFU@Month{}æœˆ\SWFU@Date{}æ—¥%
      \end{minipage}\\\hline%
      \parbox{3em}{\centering æ•™ç ”å®¤å®¡æ ¸}& \begin{minipage}[c][8em]{1.0\linewidth}%
        \par\vspace{1ex}%
        å®¡æ ¸æ„è§ï¼š\par
        \vfill%
        ç­¾å­—ï¼š\par%
        \hfill{}å¹´\qquad{}æœˆ\qquad{}æ—¥%
      \end{minipage}%
      & \parbox{4.3em}{\centering å­¦é™¢å®¡æ ¸}%
      & \begin{minipage}[c][8em]{1.0\linewidth}%
        \par\vspace{1ex}%
        å®¡æ ¸æ„è§ï¼š\par
        \vfill%
        ç­¾ç« ï¼š\par%
        \hfill\qquad{}å¹´\qquad{}æœˆ\qquad{}æ—¥%
      \end{minipage}\\\hline%
    \end{tabularx}\\%
    \begin{tabularx}{\textwidth}{@{}c@{\,\,}c@{\,}X@{}}
      æ³¨ï¼š%
      &1.&æ­¤ä»»åŠ¡ä¹¦ç”±æŒ‡å¯¼æ•™å¸ˆå¡«å†™ï¼Œå„é™¢å®¡å®šï¼Œåœ¨æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰å¼€å§‹å‰ä¸€å‘¨å†…å¡«å¥½å¹¶å‘ç»™å­¦ç”Ÿã€‚\\
      &2.&æ­¤ä»»åŠ¡ä¹¦åŒé¢æ‰“å°ï¼Œä¸€å¼ä¸¤ä»½ã€‚å­¦ç”Ÿä¸€ä»½ï¼Œå¦ä¸€ä»½éšæ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰ä¿å­˜ã€‚
    \end{tabularx}}}

\newcommand\makeplan{%
  \thispagestyle{empty}
  \singlespacing
  {\centering\heiti\Large è¥¿å—æ—ä¸šå¤§å­¦\SWFU@Gyear{}å±Šæœ¬ç§‘æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰å®ä¹ è®¡åˆ’è¡¨\par}
  \bigskip
  \hfillï¼ˆæœ¬è¡¨ç”±æ¯•ä¸šç”Ÿå¡«å†™ï¼‰\par
  {\centering
    \begin{tabularx}{1.0\linewidth}{|>{\bfseries}c|C|}
      \hline
      è®ºæ–‡ï¼ˆè®¾è®¡ï¼‰é¢˜ç›®&\@title\\\hline
    \end{tabularx}
    \vskip -1pt
    \begin{tabularx}{1.0\linewidth}{|*{2}{>{\bfseries}c|C|}}
      \makecell{é¢˜ç›®\\ç±»åˆ«}%
      &\SWFU@PrjTypeA{}æ¯•ä¸šè®ºæ–‡\qquad\SWFU@PrjTypeB{}æ¯•ä¸šè®¾è®¡%
      &\makecell{é¢˜ç›®\\æ¥æº}%
      &\makecell[l]{%
        \SWFU@PrjFrmA{}ç§‘ç ”é¡¹ç›®\quad\SWFU@PrjFrmB{}ç¤¾ä¼šå®è·µ\quad\SWFU@PrjFrmD{}å…¶å®ƒæ¥æº\\
      \SWFU@PrjFrmC{}å¤§å­¦ç”Ÿåˆ›æ–°åˆ›ä¸šé¡¹ç›®}\\\hline
    \end{tabularx}
    \vskip -1pt
    \begin{tabularx}{1.0\linewidth}{|*{2}{>{\bfseries}r|C|}}
      æŒ‡å¯¼æ•™å¸ˆ&\SWFU@Advisora&èŒç§°&\SWFU@AdvisoraTitle\\\hline
      è¾…åŠ©æŒ‡å¯¼æ•™å¸ˆ&\SWFU@Advisorb&èŒç§°&\SWFU@AdvisorbTitle\\\hline
    \end{tabularx}
    \vskip -1pt
    \begin{tabularx}{1.0\linewidth}{|*{3}{>{\bfseries}c|C|}}
      å­¦ç”Ÿå§“å&\@author&ä¸“ä¸š&\SWFU@Subject&å­¦å·&\SWFU@Studid\\\hline
    \end{tabularx}
    \vskip -1pt
    \begin{tabularx}{1.0\linewidth}{|>{\bfseries}c|C|}
      æ‰€å±å­¦é™¢&\SWFU@School\\\hline
    \end{tabularx}
    \vskip -1pt
    \begin{tabularx}{1.0\linewidth}{|X|}
      è®ºæ–‡å·¥ä½œè®¡åˆ’å’Œé¢„æœŸç›®æ ‡æ‘˜è¦ï¼š\\
      \begin{minipage}[t][15cm]{1.0\linewidth}
        \qquad{}\SWFU@Plan
      \end{minipage}\\\hline
    \end{tabularx}
    {\heiti æ³¨ï¼š}æ¯ä½æ¯•ä¸šç”Ÿé¡»å¡«å†™ä¸€ä»½ï¼›å¦‚è¡¨æ ä¸å¤Ÿå¡«å†™ï¼Œè¯·åŠ é™„é¡µã€‚
  }}

\newcommand{\makeproposal}{%
  \PPSLtitlepage{}
  \PPSLinstructionpage{}
  \PPSLmain{}}