% è¥¿å—æ—ä¸šå¤§å­¦æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰ä»»åŠ¡ä¹¦
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{swfutaskspec}

\RequirePackage{ifxetex} % XeTeX only

\RequirePackage{pgfkeys}

\pgfkeys{
  Prjtitle/.store in      = \SWFU@Prjtitle,      Prjtitle=,      % è®ºæ–‡æ ‡é¢˜        
  Signature/.store in     = \SWFU@Signature,     Signature=,     % æŒ‡å¯¼æ•™å¸ˆç­¾å    
  StudSignature/.store in = \SWFU@StudSignature, StudSignature=, % å­¦ç”Ÿç­¾å
  Studname/.store in      = \SWFU@Studname,      Studname=,      % å­¦ç”Ÿå§“å        
  Studid/.store in        = \SWFU@Studid,        Studid=,        % å­¦ç”Ÿå­¦å·        
  Studclass/.store in     = \SWFU@Studclass,     Studclass=,     % å­¦ç”Ÿç­çº§        
  Prjwhy/.store in        = \SWFU@Prjwhy,        Prjwhy=,        % é€‰é¢˜çš„ç›®çš„åŠæ„ä¹‰
  Prjwhat/.store in       = \SWFU@Prjwhat,       Prjwhat=,       % å­¦ç”Ÿä»»åŠ¡åŠè¦æ±‚  
  Prjwhen/.store in       = \SWFU@Prjwhen,       Prjwhen=,       % è¿›åº¦å®‰æ’        
  Prjbib/.store in        = \SWFU@Prjbib,        Prjbib=,        % å‚è€ƒæ–‡çŒ®        
  Gyear/.store in         = \SWFU@Gyear,         Gyear=,         % æ¯•ä¸šå¹´ä»½        
  Year/.store in          = \SWFU@Year,          Year=,          % å¡«è¡¨å¹´ã€æœˆã€æ—¥  
  Month/.store in         = \SWFU@Month,         Month=,
  Date/.store in          = \SWFU@Date,          Date=,
}

\LoadClass[scheme=plain]{ctexart}

\RequirePackage{tabu,longtable}
\RequirePackage{graphicx}
\RequirePackage[ % showframe,
paperwidth=195mm,paperheight=270mm,
top=2cm,bottom=1cm,
left=2cm,right=2cm
]{geometry}

\RequirePackage{wx672bib}
\RequirePackage{wx672hyperref}

\newfontfamily\dejavu{DejaVu Sans Mono}
\newcommand\unchecked{\dejavu â–¡}%ballot box
\newcommand\checked{\large\dejavu â˜‘} %ğŸ—¹

\newcommand{\makeform}{\pagestyle{empty}
  {\centering
    {\heiti\large è¥¿å—æ—ä¸šå¤§å­¦\SWFU@Gyear{}å±Šæ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰ä»»åŠ¡ä¹¦}\\[3ex]
    \tabulinesep=3pt
    \begin{tabu}{|X[c,m,-1]|X[c]|}
      \tabucline-
      \textbf{è®ºæ–‡ï¼ˆè®¾è®¡ï¼‰é¢˜ç›®}&\SWFU@Prjtitle\\\tabucline-
    \end{tabu}\vspace{-1pt}
    \begin{tabu}{|c|X[c]|c|X[c]|c|X[c]|}
      \textbf{å­¦ç”Ÿå§“å}&\SWFU@Studname&
      \textbf{å­¦å·}&\SWFU@Studid&
      \textbf{ä¸“ä¸šç­çº§}&\SWFU@Studclass\\\tabucline-
    \end{tabu}\vspace{-1pt}
    \begin{tabu}{|X[-1,m]|X|X[-1,m]|X[c]|}
      \textbf{é¢˜ç›®æ¥æº}&\tabulinesep=0pt
      \begin{tabu}{@{}X@{}}
        \unchecked{}å¤§å­¦ç”Ÿåˆ›æ–°åˆ›ä¸šé¡¹ç›®\\
        \unchecked{}ç§‘ç ”\quad\unchecked{}ç¤¾ä¼šå®è·µ\quad{}{\large\checked}å…¶å®ƒ
      \end{tabu}&
      \textbf{é¢˜ç›®ç±»åˆ«}&\unchecked{}è®ºæ–‡\qquad{\large\checked}è®¾è®¡\\
    \end{tabu}\vspace{-2.8ex}
    \begin{longtabu}{|p{1em}|X|}\tabucline-\endhead
      \vspace{10ex}
      \textbf{é€‰é¢˜çš„ç›®çš„åŠæ„ä¹‰}\par\vspace{10ex}&\vspace{1ex}\SWFU@Prjwhy\\\tabucline-
      \vspace{10ex}
      \textbf{å­¦ç”Ÿä»»åŠ¡åŠè¦æ±‚}\par\vspace{10ex}&\vspace{1ex}\SWFU@Prjwhat\\\tabucline-
      \vspace{10ex}
      \textbf{è¿›åº¦å®‰æ’}\par\vspace{10ex}&\SWFU@Prjwhen\\\tabucline-
      \vspace{10ex}
      \textbf{å‚è€ƒæ–‡çŒ®}\par\vspace{10ex}&\SWFU@Prjbib\\\tabucline-
    \end{longtabu}\vspace{-3ex}
    \tabulinesep=3pt
    \begin{tabu}{|X[c,-1]|X|X[c,-1]|X|}
      \textbf{ä»»åŠ¡ä¸‹è¾¾}\par\textbf{æ—¥æœŸ}&&
      \textbf{å­¦ç”Ÿåº”é€äº¤æ¯•ä¸š}\par\textbf{è®ºæ–‡ï¼ˆè®¾è®¡ï¼‰æ—¥æœŸ}&\\\tabucline-
    \end{tabu}\vspace{-1pt}\tabulinesep=2pt
    \begin{tabu}{|X[-1,c]|X|X[-1,c]|X|}
      \textbf{æŒ‡å¯¼æ•™å¸ˆ}\par\textbf{ç­¾å­—}&
      \begin{minipage}{1.0\linewidth}
        % \vspace{4em}
        \makebox[7em][r]{\SWFU@Signature{}}\par
        \hfill\SWFU@Year{}\textbf{å¹´}\SWFU@Month{}\textbf{æœˆ}\SWFU@Date{}\textbf{æ—¥}
      \end{minipage}
      &\textbf{æ¥å—ä»»åŠ¡}\par\textbf{å­¦ç”Ÿç­¾å­—}&
      \begin{minipage}{1.0\linewidth}
        \vspace{4em}
        % \SWFU@StudSignature{}
        \hfill\SWFU@Year{}\textbf{å¹´}\SWFU@Month{}\textbf{æœˆ}\SWFU@Date{}\textbf{æ—¥}
      \end{minipage}\\\tabucline-
      \textbf{æ•™ç ”å®¤}\par\textbf{å®¡æ ¸}&
      \begin{minipage}{1.0\linewidth}
        \textbf{å®¡æ ¸æ„è§ã€ç­¾å­—ï¼š}\\[4em]\par
        \hfill\SWFU@Year{}\textbf{å¹´}\SWFU@Month{}\textbf{æœˆ}\SWFU@Date{}\textbf{æ—¥}
      \end{minipage}
      &\textbf{å­¦é™¢ï¼ˆéƒ¨ï¼‰}\par\textbf{å®¡æ ¸}&
      \begin{minipage}{1.0\linewidth}
        \textbf{å®¡æ ¸æ„è§ã€ç­¾ç« ï¼š}\\[4em]\par
        \hfill\SWFU@Year{}\textbf{å¹´}\SWFU@Month{}\textbf{æœˆ}\SWFU@Date{}\textbf{æ—¥}
      \end{minipage}\\\tabucline-
    \end{tabu}}
  \noindent\tabulinesep=3pt
  \begin{tabu}{@{}X[-1]@{\quad}X[-1]@{\,}X@{}}
    æ³¨ï¼š
    &1.&æ­¤ä»»åŠ¡ä¹¦ç”±æŒ‡å¯¼æ•™å¸ˆå¡«å†™ï¼Œå„é™¢ï¼ˆéƒ¨ï¼‰å®¡å®šï¼Œåœ¨æ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰å¼€å§‹å‰ä¸€å‘¨å†…å¡«å¥½å¹¶å‘ç»™å­¦ç”Ÿã€‚\\
    &2.&æ­¤ä»»åŠ¡ä¹¦åŒé¢æ‰“å°ï¼Œä¸€å¼ä¸¤ä»½ã€‚å­¦ç”Ÿä¸€ä»½ï¼Œå¦ä¸€ä»½éšæ¯•ä¸šè®ºæ–‡ï¼ˆè®¾è®¡ï¼‰ä¿å­˜ã€‚
  \end{tabu}}
